{"version":3,"sources":["main.js","wgl-fluid.js"],"names":["document","addEventListener","window","header","querySelector","headerHeight","offsetHeight","pageYOffset","classList","add","remove","$","__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","e","t","exports","module","define","amd","dat","globalThis","e2","t2","n2","__state","conversionName","toString","o2","Math","round","r","i2","g","r2","b","s2","a","a2","h","l2","s","toFixed","d2","v","c2","hex","length","n","get","this","space","I","recalculateRGB","set","e3","o","recalculateHSV","i","S","isUndefined","match","U","isNull","parseFloat","indexOf","l","style","background","each","ee","cssText","c","createElement","appendChild","__ul","insertBefore","onResize","u","X","unbind","__resizeHandler","saveToLocalStorageIfPossible","_","__preset_select","selectedIndex","innerHTML","p","getRoot","__rememberedObjects","object","__rememberedObjectIndecesToControllers","property","load","remembered","preset","se","initialValue","setValue","f","Error","color","concat","factoryArgs","ne","apply","before","z","__li","addClass","domElement","he","CLASS_CONTROLLER_ROW","H","getValue","__gui","extend","options","t3","arguments","o3","nextElementSibling","toArray","isArray","isObject","i3","name","firstElementChild","listen","q","Q","min","__min","max","__max","step","__step","e4","Array","slice","call","isNumber","__listening","compose","K","bind","fakeEvent","__checkbox","stopPropagation","Z","__button","removeClass","updateDisplay","borderLeftColor","__color","isModified","__controllers","push","m","location","href","display","useLocalStorage","__save_row","firstChild","n3","ae","getElementById","localStorage","getItem","setAttribute","metaKey","which","keyCode","le","hide","JSON","stringify","getSaveObject","show","focus","select","save","prompt","saveAs","revert","w","width","autoPlace","__closeButton","x","A","forEach","k","BREAK","keys","defaults","defer","setTimeout","debounce","clearTimeout","isNaN","constructor","isString","isBoolean","isFunction","O","litmus","conversions","THREE_CHAR_HEX","read","parseInt","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","T","L","R","conversion","B","N","hsv_to_rgb","floor","rgb_to_hsv","NaN","rgb_to_hex","hex_with_component","component_from_hex","Symbol","iterator","F","TypeError","P","j","Function","getOwnPropertyDescriptor","getPrototypeOf","D","create","setPrototypeOf","__proto__","V","ReferenceError","COMPONENTS","__onChange","__onFinishChange","G","HTMLEvents","MouseEvents","KeyboardEvents","makeSelectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","position","left","right","top","bottom","createEvent","clientX","y","clientY","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","charCode","initEvent","dispatchEvent","attachEvent","removeEventListener","detachEvent","className","split","join","replace","removeAttribute","splice","hasClass","RegExp","test","getWidth","getComputedStyle","getHeight","height","getOffset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","type","__prev","checked","Y","__select","J","__input","blur","W","__impliedStep","pow","log","abs","LN10","__precision","__truncationSuspended","preventDefault","_2","__background","getBoundingClientRect","touches","u2","__foreground","fire","p2","toOriginal","__saturation_field","r3","s3","__hue_field","h2","__temp","__selector","__field_knob","__field_knob_border","__hue_knob","__input_textShadow","f2","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","cursor","d","outline","textAlign","fontWeight","textShadow","marginLeft","marginTop","toHexString","te","getElementsByTagName","oe","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","ie","backgroundElement","opacity","WebkitTransition","transition","body","webkitTransform","layout","innerWidth","innerHeight","head","de","ce","ue","_e","__folders","closeOnTop","DEFAULT_WIDTH","resizable","hideable","parent","scrollable","defineProperties","E","closed","CLASS_CLOSED","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","childNodes","CLASS_CLOSE_BOTTOM","createTextNode","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","onResizeDebounced","CLASS_DRAG","__resize_handle","toggleHide","CLASS_TOO_TALL","_keydownHandler","addColor","removeChild","destroy","removeFolder","addFolder","folders","parentElement","open","close","remember","C","pe","Color","math","interpret","fe","Controller","BooleanController","OptionController","StringController","NumberController","NumberControllerBox","NumberControllerSlider","FunctionController","ColorController","me","dom","ge","GUI","be","ve","controllers","gui","default","webgl_fluid_settings","initCanvas","el","config","canvas","pointerPrototype","id","texcoordX","texcoordY","prevTexcoordX","prevTexcoordY","deltaX","deltaY","down","moved","resizeCanvas","prop","__spreadValues","IMMEDIATE","TRIGGER","SIM_RESOLUTION","DYE_RESOLUTION","CAPTURE_RESOLUTION","DENSITY_DISSIPATION","VELOCITY_DISSIPATION","PRESSURE","PRESSURE_ITERATIONS","CURL","SPLAT_RADIUS","SPLAT_FORCE","SHADING","COLORFUL","COLOR_UPDATE_SPEED","PAUSED","BACK_COLOR","TRANSPARENT","BLOOM","BLOOM_ITERATIONS","BLOOM_RESOLUTION","BLOOM_INTENSITY","BLOOM_THRESHOLD","BLOOM_SOFT_KNEE","SUNRAYS","SUNRAYS_RESOLUTION","SUNRAYS_WEIGHT","TYPE_COLOR","COLOR","pointers","splatStack","bloomFramebuffers","gl","ext","canvas2","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","gl2","getContext","isWebGL2","halfFloat","supportLinearFiltering","getExtension","clearColor","halfFloatTexType","HALF_FLOAT","HALF_FLOAT_OES","formatRGBA","formatRG","formatR","getSupportedFormat","RGBA16F","RGBA","RG16F","RG","R16F","RED","getWebGLContext","internalFormat","format","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","supportRenderTextureFormat","navigator","userAgent","Program","[object Object]","vertexShader","fragmentShader","uniforms","program","createProgram","getUniforms","useProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniformCount","ACTIVE_UNIFORMS","uniformName","getActiveUniform","getUniformLocation","compileShader","source","keywords","keywordsString","keyword","addKeywords","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","baseVertexShader","VERTEX_SHADER","blurVertexShader","blurShader","FRAGMENT_SHADER","copyShader","clearShader","colorShader","checkerboardShader","bloomPrefilterShader","bloomBlurShader","bloomFinalShader","sunraysMaskShader","sunraysShader","splatShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","blit","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","destination","drawElements","TRIANGLES","UNSIGNED_SHORT","dye","velocity","divergence","curl","pressure","bloom","sunrays","sunraysTemp","ditheringTexture","url","LINEAR","REPEAT","RGB","UNSIGNED_BYTE","Uint8Array","attach","activeTexture","TEXTURE0","image","Image","onload","src","createTextureAsync","blurProgram","copyProgram","clearProgram","colorProgram","checkerboardProgram","bloomPrefilterProgram","bloomBlurProgram","bloomFinalProgram","sunraysMaskProgram","sunraysProgram","splatProgram","advectionProgram","divergenceProgram","curlProgram","vorticityProgram","pressureProgram","gradienSubtractProgram","displayMaterial","fragmentShaderSource","programs","activeProgram","hash","hashCode","initFramebuffers","simRes","getResolution","dyeRes","texType","rgba","rg","filtering","createDoubleFBO","resizeDoubleFBO","createFBO","res","initBloomFramebuffers","initSunraysFramebuffers","param","viewport","clear","COLOR_BUFFER_BIT","texelSizeX","texelSizeY","fbo1","fbo2","temp","target","newFBO","uniform1i","uTexture","resizeFBO","displayKeywords","setKeywords","updateKeywords","multipleSplats","random","lastUpdateTime","Date","now","colorUpdateTimer","scaleByPixelRatio","clientWidth","clientHeight","amount","generateColor","splat","dx","dy","uTarget","uniform1f","aspectRatio","uniform2f","point","uniform3f","radius","correctRadius","swap","update","dt","calcDeltaTime","range","wrap","updateColors","pop","pointer","splatPointer","applyInputs","disable","BLEND","texelSize","uVelocity","uCurl","uDivergence","uPressure","dyeTexelSize","velocityId","uSource","dissipation","last","knee","curve0","curve1","curve2","curve","threshold","dest","blendFunc","ONE","enable","baseTex","intensity","applyBloom","mask","weight","iterations","ONE_MINUS_SRC_ALPHA","drawingBufferWidth","drawingBufferHeight","uniform4f","drawColor","input","drawCheckerboard","uBloom","uDithering","scale","getTextureScale","ditherScale","uSunrays","drawDisplay","render","posX","offsetX","posY","offsetY","find","updatePointerDownData","updatePointerMoveData","updatePointerUpData","targetTouches","pageX","pageY","identifier","listenerKeyAnimation","code","BACKSPACE_ANIMATION","animationButton","querySelectorAll","delta","correctDeltaX","correctDeltaY","result","exec","hexToRgb","HSVtoRGB","resolution","pixelRatio","devicePixelRatio","charCodeAt","newEvent","reinit","webglFluid","reDrawResolution","reDrawDensity","reDrawVelocity","reDrawPressure","reDrawSplatRadius","POINTER_COLOR","SOUND_SENSITIVITY","AUDIO_RESPONSIVE","FREQ_RANGE","FREQ_RANGE_START","reDrawType","reDrawColor","reBackSpaceAnimation","fluidAnimation","event","isTrusted","jQuery"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n    window.addEventListener('scroll', function() {\n        let header = document.querySelector('.sticky-header');\n        let headerHeight = header.offsetHeight; // Получаем высоту заголовка\n\n        if (window.pageYOffset > headerHeight-40) {\n            header.classList.add('sticky')\n        } else {\n            header.classList.remove('sticky'); // Удаляем класс прилипающего заголовка\n        }\n    });\n});","(function ($) {\n    \"use strict\";\n\n    var __defProp = Object.defineProperty;\n    var __getOwnPropSymbols = Object.getOwnPropertySymbols;\n    var __hasOwnProp = Object.prototype.hasOwnProperty;\n    var __propIsEnum = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues = (a, b) => {\n        for (var prop in b || (b = {}))\n            if (__hasOwnProp.call(b, prop))\n                __defNormalProp(a, prop, b[prop]);\n        if (__getOwnPropSymbols)\n            for (var prop of __getOwnPropSymbols(b)) {\n                if (__propIsEnum.call(b, prop))\n                    __defNormalProp(a, prop, b[prop]);\n            }\n        return a;\n    };\n    !function (e, t) {\n        typeof exports == \"object\" && typeof module != \"undefined\" ? t(exports) : typeof define == \"function\" && define.amd ? define([\"exports\"], t) : t(e.dat = {});\n    }(globalThis, function (e) {\n        function t(e2, t2) {\n            var n2 = e2.__state.conversionName.toString(), o2 = Math.round(e2.r), i2 = Math.round(e2.g), r2 = Math.round(e2.b), s2 = e2.a, a2 = Math.round(e2.h), l2 = e2.s.toFixed(1), d2 = e2.v.toFixed(1);\n            if (t2 || n2 === \"THREE_CHAR_HEX\" || n2 === \"SIX_CHAR_HEX\") {\n                for (var c2 = e2.hex.toString(16); c2.length < 6;)\n                    c2 = \"0\" + c2;\n                return \"#\" + c2;\n            }\n            return n2 === \"CSS_RGB\" ? \"rgb(\" + o2 + \",\" + i2 + \",\" + r2 + \")\" : n2 === \"CSS_RGBA\" ? \"rgba(\" + o2 + \",\" + i2 + \",\" + r2 + \",\" + s2 + \")\" : n2 === \"HEX\" ? \"0x\" + e2.hex.toString(16) : n2 === \"RGB_ARRAY\" ? \"[\" + o2 + \",\" + i2 + \",\" + r2 + \"]\" : n2 === \"RGBA_ARRAY\" ? \"[\" + o2 + \",\" + i2 + \",\" + r2 + \",\" + s2 + \"]\" : n2 === \"RGB_OBJ\" ? \"{r:\" + o2 + \",g:\" + i2 + \",b:\" + r2 + \"}\" : n2 === \"RGBA_OBJ\" ? \"{r:\" + o2 + \",g:\" + i2 + \",b:\" + r2 + \",a:\" + s2 + \"}\" : n2 === \"HSV_OBJ\" ? \"{h:\" + a2 + \",s:\" + l2 + \",v:\" + d2 + \"}\" : n2 === \"HSVA_OBJ\" ? \"{h:\" + a2 + \",s:\" + l2 + \",v:\" + d2 + \",a:\" + s2 + \"}\" : \"unknown format\";\n        }\n        function n(e2, t2, n2) {\n            Object.defineProperty(e2, t2, {\n                get: function () {\n                    return this.__state.space === \"RGB\" ? this.__state[t2] : (I.recalculateRGB(this, t2, n2), this.__state[t2]);\n                }, set: function (e3) {\n                    this.__state.space !== \"RGB\" && (I.recalculateRGB(this, t2, n2), this.__state.space = \"RGB\"), this.__state[t2] = e3;\n                }\n            });\n        }\n        function o(e2, t2) {\n            Object.defineProperty(e2, t2, {\n                get: function () {\n                    return this.__state.space === \"HSV\" ? this.__state[t2] : (I.recalculateHSV(this), this.__state[t2]);\n                }, set: function (e3) {\n                    this.__state.space !== \"HSV\" && (I.recalculateHSV(this), this.__state.space = \"HSV\"), this.__state[t2] = e3;\n                }\n            });\n        }\n        function i(e2) {\n            if (e2 === \"0\" || S.isUndefined(e2))\n                return 0;\n            var t2 = e2.match(U);\n            return S.isNull(t2) ? 0 : parseFloat(t2[1]);\n        }\n        function r(e2) {\n            var t2 = e2.toString();\n            return t2.indexOf(\".\") > -1 ? t2.length - t2.indexOf(\".\") - 1 : 0;\n        }\n        function s(e2, t2) {\n            var n2 = Math.pow(10, t2);\n            return Math.round(e2 * n2) / n2;\n        }\n        function a(e2, t2, n2, o2, i2) {\n            return o2 + (e2 - t2) / (n2 - t2) * (i2 - o2);\n        }\n        function l(e2, t2, n2, o2) {\n            e2.style.background = \"\", S.each(ee, function (i2) {\n                e2.style.cssText += \"background: \" + i2 + \"linear-gradient(\" + t2 + \", \" + n2 + \" 0%, \" + o2 + \" 100%); \";\n            });\n        }\n        function d(e2) {\n            e2.style.background = \"\", e2.style.cssText += \"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\", e2.style.cssText += \"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e2.style.cssText += \"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e2.style.cssText += \"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e2.style.cssText += \"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";\n        }\n        function c(e2, t2, n2) {\n            var o2 = document.createElement(\"li\");\n            return t2 && o2.appendChild(t2), n2 ? e2.__ul.insertBefore(o2, n2) : e2.__ul.appendChild(o2), e2.onResize(), o2;\n        }\n        function u(e2) {\n            X.unbind(window, \"resize\", e2.__resizeHandler), e2.saveToLocalStorageIfPossible && X.unbind(window, \"unload\", e2.saveToLocalStorageIfPossible);\n        }\n        function _(e2, t2) {\n            var n2 = e2.__preset_select[e2.__preset_select.selectedIndex];\n            n2.innerHTML = t2 ? n2.value + \"*\" : n2.value;\n        }\n        function h(e2, t2, n2) {\n            if (n2.__li = t2, n2.__gui = e2, S.extend(n2, {\n                options: function (t3) {\n                    if (arguments.length > 1) {\n                        var o3 = n2.__li.nextElementSibling;\n                        return n2.remove(), f(e2, n2.object, n2.property, { before: o3, factoryArgs: [S.toArray(arguments)] });\n                    }\n                    if (S.isArray(t3) || S.isObject(t3)) {\n                        var i3 = n2.__li.nextElementSibling;\n                        return n2.remove(), f(e2, n2.object, n2.property, { before: i3, factoryArgs: [t3] });\n                    }\n                }, name: function (e3) {\n                    return n2.__li.firstElementChild.firstElementChild.innerHTML = e3, n2;\n                }, listen: function () {\n                    return n2.__gui.listen(n2), n2;\n                }, remove: function () {\n                    return n2.__gui.remove(n2), n2;\n                }\n            }), n2 instanceof q) {\n                var o2 = new Q(n2.object, n2.property, { min: n2.__min, max: n2.__max, step: n2.__step });\n                S.each([\"updateDisplay\", \"onChange\", \"onFinishChange\", \"step\"], function (e3) {\n                    var t3 = n2[e3], i3 = o2[e3];\n                    n2[e3] = o2[e3] = function () {\n                        var e4 = Array.prototype.slice.call(arguments);\n                        return i3.apply(o2, e4), t3.apply(n2, e4);\n                    };\n                }), X.addClass(t2, \"has-slider\"), n2.domElement.insertBefore(o2.domElement, n2.domElement.firstElementChild);\n            } else if (n2 instanceof Q) {\n                var i2 = function (t3) {\n                    if (S.isNumber(n2.__min) && S.isNumber(n2.__max)) {\n                        var o3 = n2.__li.firstElementChild.firstElementChild.innerHTML, i3 = n2.__gui.__listening.indexOf(n2) > -1;\n                        n2.remove();\n                        var r2 = f(e2, n2.object, n2.property, { before: n2.__li.nextElementSibling, factoryArgs: [n2.__min, n2.__max, n2.__step] });\n                        return r2.name(o3), i3 && r2.listen(), r2;\n                    }\n                    return t3;\n                };\n                n2.min = S.compose(i2, n2.min), n2.max = S.compose(i2, n2.max);\n            } else\n                n2 instanceof K ? (X.bind(t2, \"click\", function () {\n                    X.fakeEvent(n2.__checkbox, \"click\");\n                }), X.bind(n2.__checkbox, \"click\", function (e3) {\n                    e3.stopPropagation();\n                })) : n2 instanceof Z ? (X.bind(t2, \"click\", function () {\n                    X.fakeEvent(n2.__button, \"click\");\n                }), X.bind(t2, \"mouseover\", function () {\n                    X.addClass(n2.__button, \"hover\");\n                }), X.bind(t2, \"mouseout\", function () {\n                    X.removeClass(n2.__button, \"hover\");\n                })) : n2 instanceof $ && (X.addClass(t2, \"color\"), n2.updateDisplay = S.compose(function (e3) {\n                    return t2.style.borderLeftColor = n2.__color.toString(), e3;\n                }, n2.updateDisplay), n2.updateDisplay());\n            n2.setValue = S.compose(function (t3) {\n                return e2.getRoot().__preset_select && n2.isModified() && _(e2.getRoot(), true), t3;\n            }, n2.setValue);\n        }\n        function p(e2, t2) {\n            var n2 = e2.getRoot(), o2 = n2.__rememberedObjects.indexOf(t2.object);\n            if (o2 !== -1) {\n                var i2 = n2.__rememberedObjectIndecesToControllers[o2];\n                if (i2 === void 0 && (i2 = {}, n2.__rememberedObjectIndecesToControllers[o2] = i2), i2[t2.property] = t2, n2.load && n2.load.remembered) {\n                    var r2 = n2.load.remembered, s2 = void 0;\n                    if (r2[e2.preset])\n                        s2 = r2[e2.preset];\n                    else {\n                        if (!r2[se])\n                            return;\n                        s2 = r2[se];\n                    }\n                    if (s2[o2] && s2[o2][t2.property] !== void 0) {\n                        var a2 = s2[o2][t2.property];\n                        t2.initialValue = a2, t2.setValue(a2);\n                    }\n                }\n            }\n        }\n        function f(e2, t2, n2, o2) {\n            if (t2[n2] === void 0)\n                throw new Error('Object \"' + t2 + '\" has no property \"' + n2 + '\"');\n            var i2 = void 0;\n            if (o2.color)\n                i2 = new $(t2, n2);\n            else {\n                var r2 = [t2, n2].concat(o2.factoryArgs);\n                i2 = ne.apply(e2, r2);\n            }\n            o2.before instanceof z && (o2.before = o2.before.__li), p(e2, i2), X.addClass(i2.domElement, \"c\");\n            var s2 = document.createElement(\"span\");\n            X.addClass(s2, \"property-name\"), s2.innerHTML = i2.property;\n            var a2 = document.createElement(\"div\");\n            a2.appendChild(s2), a2.appendChild(i2.domElement);\n            var l2 = c(e2, a2, o2.before);\n            return X.addClass(l2, he.CLASS_CONTROLLER_ROW), i2 instanceof $ ? X.addClass(l2, \"color\") : X.addClass(l2, H(i2.getValue())), h(e2, l2, i2), e2.__controllers.push(i2), i2;\n        }\n        function m(e2, t2) {\n            return document.location.href + \".\" + t2;\n        }\n        function g(e2, t2, n2) {\n            var o2 = document.createElement(\"option\");\n            o2.innerHTML = t2, o2.value = t2, e2.__preset_select.appendChild(o2), n2 && (e2.__preset_select.selectedIndex = e2.__preset_select.length - 1);\n        }\n        function b(e2, t2) {\n            t2.style.display = e2.useLocalStorage ? \"block\" : \"none\";\n        }\n        function v(e2) {\n            var t2 = e2.__save_row = document.createElement(\"li\");\n            X.addClass(e2.domElement, \"has-save\"), e2.__ul.insertBefore(t2, e2.__ul.firstChild), X.addClass(t2, \"save-row\");\n            var n2 = document.createElement(\"span\");\n            n2.innerHTML = \"&nbsp;\", X.addClass(n2, \"button gears\");\n            var o2 = document.createElement(\"span\");\n            o2.innerHTML = \"Save\", X.addClass(o2, \"button\"), X.addClass(o2, \"save\");\n            var i2 = document.createElement(\"span\");\n            i2.innerHTML = \"New\", X.addClass(i2, \"button\"), X.addClass(i2, \"save-as\");\n            var r2 = document.createElement(\"span\");\n            r2.innerHTML = \"Revert\", X.addClass(r2, \"button\"), X.addClass(r2, \"revert\");\n            var s2 = e2.__preset_select = document.createElement(\"select\");\n            if (e2.load && e2.load.remembered ? S.each(e2.load.remembered, function (t3, n3) {\n                g(e2, n3, n3 === e2.preset);\n            }) : g(e2, se, false), X.bind(s2, \"change\", function () {\n                for (var t3 = 0; t3 < e2.__preset_select.length; t3++)\n                    e2.__preset_select[t3].innerHTML = e2.__preset_select[t3].value;\n                e2.preset = this.value;\n            }), t2.appendChild(s2), t2.appendChild(n2), t2.appendChild(o2), t2.appendChild(i2), t2.appendChild(r2), ae) {\n                var a2 = document.getElementById(\"dg-local-explain\"), l2 = document.getElementById(\"dg-local-storage\");\n                document.getElementById(\"dg-save-locally\").style.display = \"block\", localStorage.getItem(m(e2, \"isLocal\")) === \"true\" && l2.setAttribute(\"checked\", \"checked\"), b(e2, a2), X.bind(l2, \"change\", function () {\n                    e2.useLocalStorage = !e2.useLocalStorage, b(e2, a2);\n                });\n            }\n            var d2 = document.getElementById(\"dg-new-constructor\");\n            X.bind(d2, \"keydown\", function (e3) {\n                !e3.metaKey || e3.which !== 67 && e3.keyCode !== 67 || le.hide();\n            }), X.bind(n2, \"click\", function () {\n                d2.innerHTML = JSON.stringify(e2.getSaveObject(), void 0, 2), le.show(), d2.focus(), d2.select();\n            }), X.bind(o2, \"click\", function () {\n                e2.save();\n            }), X.bind(i2, \"click\", function () {\n                var t3 = prompt(\"Enter a new preset name.\");\n                t3 && e2.saveAs(t3);\n            }), X.bind(r2, \"click\", function () {\n                e2.revert();\n            });\n        }\n        function y(e2) {\n            function t2(t3) {\n                return t3.preventDefault(), e2.width += i2 - t3.clientX, e2.onResize(), i2 = t3.clientX, false;\n            }\n            function n2() {\n                X.removeClass(e2.__closeButton, he.CLASS_DRAG), X.unbind(window, \"mousemove\", t2), X.unbind(window, \"mouseup\", n2);\n            }\n            function o2(o3) {\n                return o3.preventDefault(), i2 = o3.clientX, X.addClass(e2.__closeButton, he.CLASS_DRAG), X.bind(window, \"mousemove\", t2), X.bind(window, \"mouseup\", n2), false;\n            }\n            var i2 = void 0;\n            e2.__resize_handle = document.createElement(\"div\"), S.extend(e2.__resize_handle.style, { width: \"6px\", marginLeft: \"-3px\", height: \"200px\", cursor: \"ew-resize\", position: \"absolute\" }), X.bind(e2.__resize_handle, \"mousedown\", o2), X.bind(e2.__closeButton, \"mousedown\", o2), e2.domElement.insertBefore(e2.__resize_handle, e2.domElement.firstElementChild);\n        }\n        function w(e2, t2) {\n            e2.domElement.style.width = t2 + \"px\", e2.__save_row && e2.autoPlace && (e2.__save_row.style.width = t2 + \"px\"), e2.__closeButton && (e2.__closeButton.style.width = t2 + \"px\");\n        }\n        function x(e2, t2) {\n            var n2 = {};\n            return S.each(e2.__rememberedObjects, function (o2, i2) {\n                var r2 = {}, s2 = e2.__rememberedObjectIndecesToControllers[i2];\n                S.each(s2, function (e3, n3) {\n                    r2[n3] = t2 ? e3.initialValue : e3.getValue();\n                }), n2[i2] = r2;\n            }), n2;\n        }\n        function E(e2) {\n            for (var t2 = 0; t2 < e2.__preset_select.length; t2++)\n                e2.__preset_select[t2].value === e2.preset && (e2.__preset_select.selectedIndex = t2);\n        }\n        function C(e2) {\n            e2.length !== 0 && oe.call(window, function () {\n                C(e2);\n            }), S.each(e2, function (e3) {\n                e3.updateDisplay();\n            });\n        }\n        var A = Array.prototype.forEach, k = Array.prototype.slice, S = {\n            BREAK: {}, extend: function (e2) {\n                return this.each(k.call(arguments, 1), function (t2) {\n                    (this.isObject(t2) ? Object.keys(t2) : []).forEach(function (n2) {\n                        this.isUndefined(t2[n2]) || (e2[n2] = t2[n2]);\n                    }.bind(this));\n                }, this), e2;\n            }, defaults: function (e2) {\n                return this.each(k.call(arguments, 1), function (t2) {\n                    (this.isObject(t2) ? Object.keys(t2) : []).forEach(function (n2) {\n                        this.isUndefined(e2[n2]) && (e2[n2] = t2[n2]);\n                    }.bind(this));\n                }, this), e2;\n            }, compose: function () {\n                var e2 = k.call(arguments);\n                return function () {\n                    for (var t2 = k.call(arguments), n2 = e2.length - 1; n2 >= 0; n2--)\n                        t2 = [e2[n2].apply(this, t2)];\n                    return t2[0];\n                };\n            }, each: function (e2, t2, n2) {\n                if (e2) {\n                    if (A && e2.forEach && e2.forEach === A)\n                        e2.forEach(t2, n2);\n                    else if (e2.length === e2.length + 0) {\n                        var o2 = void 0, i2 = void 0;\n                        for (o2 = 0, i2 = e2.length; o2 < i2; o2++)\n                            if (o2 in e2 && t2.call(n2, e2[o2], o2) === this.BREAK)\n                                return;\n                    } else\n                        for (var r2 in e2)\n                            if (t2.call(n2, e2[r2], r2) === this.BREAK)\n                                return;\n                }\n            }, defer: function (e2) {\n                setTimeout(e2, 0);\n            }, debounce: function (e2, t2, n2) {\n                var o2 = void 0;\n                return function () {\n                    var i2 = this, r2 = arguments, s2 = n2 || !o2;\n                    clearTimeout(o2), o2 = setTimeout(function () {\n                        o2 = null, n2 || e2.apply(i2, r2);\n                    }, t2), s2 && e2.apply(i2, r2);\n                };\n            }, toArray: function (e2) {\n                return e2.toArray ? e2.toArray() : k.call(e2);\n            }, isUndefined: function (e2) {\n                return e2 === void 0;\n            }, isNull: function (e2) {\n                return e2 === null;\n            }, isNaN: function (e2) {\n                function t2(t3) {\n                    return e2.apply(this, arguments);\n                }\n                return t2.toString = function () {\n                    return e2.toString();\n                }, t2;\n            }(function (e2) {\n                return isNaN(e2);\n            }), isArray: Array.isArray || function (e2) {\n                return e2.constructor === Array;\n            }, isObject: function (e2) {\n                return e2 === Object(e2);\n            }, isNumber: function (e2) {\n                return e2 === e2 + 0;\n            }, isString: function (e2) {\n                return e2 === e2 + \"\";\n            }, isBoolean: function (e2) {\n                return e2 === false || e2 === true;\n            }, isFunction: function (e2) {\n                return Object.prototype.toString.call(e2) === \"[object Function]\";\n            }\n        }, O = [{\n            litmus: S.isString, conversions: {\n                THREE_CHAR_HEX: {\n                    read: function (e2) {\n                        var t2 = e2.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n                        return t2 !== null && { space: \"HEX\", hex: parseInt(\"0x\" + t2[1].toString() + t2[1].toString() + t2[2].toString() + t2[2].toString() + t2[3].toString() + t2[3].toString(), 0) };\n                    }, write: t\n                }, SIX_CHAR_HEX: {\n                    read: function (e2) {\n                        var t2 = e2.match(/^#([A-F0-9]{6})$/i);\n                        return t2 !== null && { space: \"HEX\", hex: parseInt(\"0x\" + t2[1].toString(), 0) };\n                    }, write: t\n                }, CSS_RGB: {\n                    read: function (e2) {\n                        var t2 = e2.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        return t2 !== null && { space: \"RGB\", r: parseFloat(t2[1]), g: parseFloat(t2[2]), b: parseFloat(t2[3]) };\n                    }, write: t\n                }, CSS_RGBA: {\n                    read: function (e2) {\n                        var t2 = e2.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        return t2 !== null && { space: \"RGB\", r: parseFloat(t2[1]), g: parseFloat(t2[2]), b: parseFloat(t2[3]), a: parseFloat(t2[4]) };\n                    }, write: t\n                }\n            }\n        }, {\n            litmus: S.isNumber, conversions: {\n                HEX: {\n                    read: function (e2) {\n                        return { space: \"HEX\", hex: e2, conversionName: \"HEX\" };\n                    }, write: function (e2) {\n                        return e2.hex;\n                    }\n                }\n            }\n        }, {\n            litmus: S.isArray, conversions: {\n                RGB_ARRAY: {\n                    read: function (e2) {\n                        return e2.length === 3 && { space: \"RGB\", r: e2[0], g: e2[1], b: e2[2] };\n                    }, write: function (e2) {\n                        return [e2.r, e2.g, e2.b];\n                    }\n                }, RGBA_ARRAY: {\n                    read: function (e2) {\n                        return e2.length === 4 && { space: \"RGB\", r: e2[0], g: e2[1], b: e2[2], a: e2[3] };\n                    }, write: function (e2) {\n                        return [e2.r, e2.g, e2.b, e2.a];\n                    }\n                }\n            }\n        }, {\n            litmus: S.isObject, conversions: {\n                RGBA_OBJ: {\n                    read: function (e2) {\n                        return !!(S.isNumber(e2.r) && S.isNumber(e2.g) && S.isNumber(e2.b) && S.isNumber(e2.a)) && { space: \"RGB\", r: e2.r, g: e2.g, b: e2.b, a: e2.a };\n                    }, write: function (e2) {\n                        return { r: e2.r, g: e2.g, b: e2.b, a: e2.a };\n                    }\n                }, RGB_OBJ: {\n                    read: function (e2) {\n                        return !!(S.isNumber(e2.r) && S.isNumber(e2.g) && S.isNumber(e2.b)) && { space: \"RGB\", r: e2.r, g: e2.g, b: e2.b };\n                    }, write: function (e2) {\n                        return { r: e2.r, g: e2.g, b: e2.b };\n                    }\n                }, HSVA_OBJ: {\n                    read: function (e2) {\n                        return !!(S.isNumber(e2.h) && S.isNumber(e2.s) && S.isNumber(e2.v) && S.isNumber(e2.a)) && { space: \"HSV\", h: e2.h, s: e2.s, v: e2.v, a: e2.a };\n                    }, write: function (e2) {\n                        return { h: e2.h, s: e2.s, v: e2.v, a: e2.a };\n                    }\n                }, HSV_OBJ: {\n                    read: function (e2) {\n                        return !!(S.isNumber(e2.h) && S.isNumber(e2.s) && S.isNumber(e2.v)) && { space: \"HSV\", h: e2.h, s: e2.s, v: e2.v };\n                    }, write: function (e2) {\n                        return { h: e2.h, s: e2.s, v: e2.v };\n                    }\n                }\n            }\n        }], T = void 0, L = void 0, R = function () {\n            L = false;\n            var e2 = arguments.length > 1 ? S.toArray(arguments) : arguments[0];\n            return S.each(O, function (t2) {\n                if (t2.litmus(e2))\n                    return S.each(t2.conversions, function (t3, n2) {\n                        if (T = t3.read(e2), L === false && T !== false)\n                            return L = T, T.conversionName = n2, T.conversion = t3, S.BREAK;\n                    }), S.BREAK;\n            }), L;\n        }, B = void 0, N = {\n            hsv_to_rgb: function (e2, t2, n2) {\n                var o2 = Math.floor(e2 / 60) % 6, i2 = e2 / 60 - Math.floor(e2 / 60), r2 = n2 * (1 - t2), s2 = n2 * (1 - i2 * t2), a2 = n2 * (1 - (1 - i2) * t2), l2 = [[n2, a2, r2], [s2, n2, r2], [r2, n2, a2], [r2, s2, n2], [a2, r2, n2], [n2, r2, s2]][o2];\n                return { r: 255 * l2[0], g: 255 * l2[1], b: 255 * l2[2] };\n            }, rgb_to_hsv: function (e2, t2, n2) {\n                var o2 = Math.min(e2, t2, n2), i2 = Math.max(e2, t2, n2), r2 = i2 - o2, s2 = void 0, a2 = void 0;\n                return i2 === 0 ? { h: NaN, s: 0, v: 0 } : (a2 = r2 / i2, s2 = e2 === i2 ? (t2 - n2) / r2 : t2 === i2 ? 2 + (n2 - e2) / r2 : 4 + (e2 - t2) / r2, (s2 /= 6) < 0 && (s2 += 1), { h: 360 * s2, s: a2, v: i2 / 255 });\n            }, rgb_to_hex: function (e2, t2, n2) {\n                var o2 = this.hex_with_component(0, 2, e2);\n                return o2 = this.hex_with_component(o2, 1, t2), o2 = this.hex_with_component(o2, 0, n2);\n            }, component_from_hex: function (e2, t2) {\n                return e2 >> 8 * t2 & 255;\n            }, hex_with_component: function (e2, t2, n2) {\n                return n2 << (B = 8 * t2) | e2 & ~(255 << B);\n            }\n        }, H = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function (e2) {\n            return typeof e2;\n        } : function (e2) {\n            return e2 && typeof Symbol == \"function\" && e2.constructor === Symbol && e2 !== Symbol.prototype ? \"symbol\" : typeof e2;\n        }, F = function (e2, t2) {\n            if (!(e2 instanceof t2))\n                throw new TypeError(\"Cannot call a class as a function\");\n        }, P = function () {\n            function e2(e3, t2) {\n                for (var n2 = 0; n2 < t2.length; n2++) {\n                    var o2 = t2[n2];\n                    o2.enumerable = o2.enumerable || false, o2.configurable = true, \"value\" in o2 && (o2.writable = true), Object.defineProperty(e3, o2.key, o2);\n                }\n            }\n            return function (t2, n2, o2) {\n                return n2 && e2(t2.prototype, n2), o2 && e2(t2, o2), t2;\n            };\n        }(), j = function e2(t2, n2, o2) {\n            t2 === null && (t2 = Function.prototype);\n            var i2 = Object.getOwnPropertyDescriptor(t2, n2);\n            if (i2 === void 0) {\n                var r2 = Object.getPrototypeOf(t2);\n                return r2 === null ? void 0 : e2(r2, n2, o2);\n            }\n            if (\"value\" in i2)\n                return i2.value;\n            var s2 = i2.get;\n            if (s2 !== void 0)\n                return s2.call(o2);\n        }, D = function (e2, t2) {\n            if (typeof t2 != \"function\" && t2 !== null)\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t2);\n            e2.prototype = Object.create(t2 && t2.prototype, { constructor: { value: e2, enumerable: false, writable: true, configurable: true } }), t2 && (Object.setPrototypeOf ? Object.setPrototypeOf(e2, t2) : e2.__proto__ = t2);\n        }, V = function (e2, t2) {\n            if (!e2)\n                throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !t2 || typeof t2 != \"object\" && typeof t2 != \"function\" ? e2 : t2;\n        }, I = function () {\n            function e2() {\n                if (F(this, e2), this.__state = R.apply(this, arguments), this.__state === false)\n                    throw new Error(\"Failed to interpret color arguments\");\n                this.__state.a = this.__state.a || 1;\n            }\n            return P(e2, [{\n                key: \"toString\", value: function () {\n                    return t(this);\n                }\n            }, {\n                key: \"toHexString\", value: function () {\n                    return t(this, true);\n                }\n            }, {\n                key: \"toOriginal\", value: function () {\n                    return this.__state.conversion.write(this);\n                }\n            }]), e2;\n        }();\n        I.recalculateRGB = function (e2, t2, n2) {\n            if (e2.__state.space === \"HEX\")\n                e2.__state[t2] = N.component_from_hex(e2.__state.hex, n2);\n            else {\n                if (e2.__state.space !== \"HSV\")\n                    throw new Error(\"Corrupted color state\");\n                S.extend(e2.__state, N.hsv_to_rgb(e2.__state.h, e2.__state.s, e2.__state.v));\n            }\n        }, I.recalculateHSV = function (e2) {\n            var t2 = N.rgb_to_hsv(e2.r, e2.g, e2.b);\n            S.extend(e2.__state, { s: t2.s, v: t2.v }), S.isNaN(t2.h) ? S.isUndefined(e2.__state.h) && (e2.__state.h = 0) : e2.__state.h = t2.h;\n        }, I.COMPONENTS = [\"r\", \"g\", \"b\", \"h\", \"s\", \"v\", \"hex\", \"a\"], n(I.prototype, \"r\", 2), n(I.prototype, \"g\", 1), n(I.prototype, \"b\", 0), o(I.prototype, \"h\"), o(I.prototype, \"s\"), o(I.prototype, \"v\"), Object.defineProperty(I.prototype, \"a\", {\n            get: function () {\n                return this.__state.a;\n            }, set: function (e2) {\n                this.__state.a = e2;\n            }\n        }), Object.defineProperty(I.prototype, \"hex\", {\n            get: function () {\n                return !this.__state.space !== \"HEX\" && (this.__state.hex = N.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex;\n            }, set: function (e2) {\n                this.__state.space = \"HEX\", this.__state.hex = e2;\n            }\n        });\n        var z = function () {\n            function e2(t2, n2) {\n                F(this, e2), this.initialValue = t2[n2], this.domElement = document.createElement(\"div\"), this.object = t2, this.property = n2, this.__onChange = void 0, this.__onFinishChange = void 0;\n            }\n            return P(e2, [{\n                key: \"onChange\", value: function (e3) {\n                    return this.__onChange = e3, this;\n                }\n            }, {\n                key: \"onFinishChange\", value: function (e3) {\n                    return this.__onFinishChange = e3, this;\n                }\n            }, {\n                key: \"setValue\", value: function (e3) {\n                    return this.object[this.property] = e3, this.__onChange && this.__onChange.call(this, e3), this.updateDisplay(), this;\n                }\n            }, {\n                key: \"getValue\", value: function () {\n                    return this.object[this.property];\n                }\n            }, {\n                key: \"updateDisplay\", value: function () {\n                    return this;\n                }\n            }, {\n                key: \"isModified\", value: function () {\n                    return this.initialValue !== this.getValue();\n                }\n            }]), e2;\n        }(), M = { HTMLEvents: [\"change\"], MouseEvents: [\"click\", \"mousemove\", \"mousedown\", \"mouseup\", \"mouseover\"], KeyboardEvents: [\"keydown\"] }, G = {};\n        S.each(M, function (e2, t2) {\n            S.each(e2, function (e3) {\n                G[e3] = t2;\n            });\n        });\n        var U = /(\\d+(\\.\\d+)?)px/, X = {\n            makeSelectable: function (e2, t2) {\n                e2 !== void 0 && e2.style !== void 0 && (e2.onselectstart = t2 ? function () {\n                    return false;\n                } : function () {\n                }, e2.style.MozUserSelect = t2 ? \"auto\" : \"none\", e2.style.KhtmlUserSelect = t2 ? \"auto\" : \"none\", e2.unselectable = t2 ? \"on\" : \"off\");\n            }, makeFullscreen: function (e2, t2, n2) {\n                var o2 = n2, i2 = t2;\n                S.isUndefined(i2) && (i2 = true), S.isUndefined(o2) && (o2 = true), e2.style.position = \"absolute\", i2 && (e2.style.left = 0, e2.style.right = 0), o2 && (e2.style.top = 0, e2.style.bottom = 0);\n            }, fakeEvent: function (e2, t2, n2, o2) {\n                var i2 = n2 || {}, r2 = G[t2];\n                if (!r2)\n                    throw new Error(\"Event type \" + t2 + \" not supported.\");\n                var s2 = document.createEvent(r2);\n                switch (r2) {\n                    case \"MouseEvents\":\n                        var a2 = i2.x || i2.clientX || 0, l2 = i2.y || i2.clientY || 0;\n                        s2.initMouseEvent(t2, i2.bubbles || false, i2.cancelable || true, window, i2.clickCount || 1, 0, 0, a2, l2, false, false, false, false, 0, null);\n                        break;\n                    case \"KeyboardEvents\":\n                        var d2 = s2.initKeyboardEvent || s2.initKeyEvent;\n                        S.defaults(i2, { cancelable: true, ctrlKey: false, altKey: false, shiftKey: false, metaKey: false, keyCode: void 0, charCode: void 0 }), d2(t2, i2.bubbles || false, i2.cancelable, window, i2.ctrlKey, i2.altKey, i2.shiftKey, i2.metaKey, i2.keyCode, i2.charCode);\n                        break;\n                    default:\n                        s2.initEvent(t2, i2.bubbles || false, i2.cancelable || true);\n                }\n                S.defaults(s2, o2), e2.dispatchEvent(s2);\n            }, bind: function (e2, t2, n2, o2) {\n                var i2 = o2 || false;\n                return e2.addEventListener ? e2.addEventListener(t2, n2, i2) : e2.attachEvent && e2.attachEvent(\"on\" + t2, n2), X;\n            }, unbind: function (e2, t2, n2, o2) {\n                var i2 = o2 || false;\n                return e2.removeEventListener ? e2.removeEventListener(t2, n2, i2) : e2.detachEvent && e2.detachEvent(\"on\" + t2, n2), X;\n            }, addClass: function (e2, t2) {\n                if (e2.className === void 0)\n                    e2.className = t2;\n                else if (e2.className !== t2) {\n                    var n2 = e2.className.split(/ +/);\n                    n2.indexOf(t2) === -1 && (n2.push(t2), e2.className = n2.join(\" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\"));\n                }\n                return X;\n            }, removeClass: function (e2, t2) {\n                if (t2)\n                    if (e2.className === t2)\n                        e2.removeAttribute(\"class\");\n                    else {\n                        var n2 = e2.className.split(/ +/), o2 = n2.indexOf(t2);\n                        o2 !== -1 && (n2.splice(o2, 1), e2.className = n2.join(\" \"));\n                    }\n                else\n                    e2.className = void 0;\n                return X;\n            }, hasClass: function (e2, t2) {\n                return new RegExp(\"(?:^|\\\\s+)\" + t2 + \"(?:\\\\s+|$)\").test(e2.className) || false;\n            }, getWidth: function (e2) {\n                var t2 = getComputedStyle(e2);\n                return i(t2[\"border-left-width\"]) + i(t2[\"border-right-width\"]) + i(t2[\"padding-left\"]) + i(t2[\"padding-right\"]) + i(t2.width);\n            }, getHeight: function (e2) {\n                var t2 = getComputedStyle(e2);\n                return i(t2[\"border-top-width\"]) + i(t2[\"border-bottom-width\"]) + i(t2[\"padding-top\"]) + i(t2[\"padding-bottom\"]) + i(t2.height);\n            }, getOffset: function (e2) {\n                var t2 = e2, n2 = { left: 0, top: 0 };\n                if (t2.offsetParent)\n                    do {\n                        n2.left += t2.offsetLeft, n2.top += t2.offsetTop, t2 = t2.offsetParent;\n                    } while (t2);\n                return n2;\n            }, isActive: function (e2) {\n                return e2 === document.activeElement && (e2.type || e2.href);\n            }\n        }, K = function (e2) {\n            function t2(e3, n2) {\n                F(this, t2);\n                var o2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2)), i2 = o2;\n                return o2.__prev = o2.getValue(), o2.__checkbox = document.createElement(\"input\"), o2.__checkbox.setAttribute(\"type\", \"checkbox\"), X.bind(o2.__checkbox, \"change\", function () {\n                    i2.setValue(!i2.__prev);\n                }, false), o2.domElement.appendChild(o2.__checkbox), o2.updateDisplay(), o2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"setValue\", value: function (e3) {\n                    var n2 = j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"setValue\", this).call(this, e3);\n                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), n2;\n                }\n            }, {\n                key: \"updateDisplay\", value: function () {\n                    return this.getValue() === true ? (this.__checkbox.setAttribute(\"checked\", \"checked\"), this.__checkbox.checked = true, this.__prev = true) : (this.__checkbox.checked = false, this.__prev = false), j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"updateDisplay\", this).call(this);\n                }\n            }]), t2;\n        }(), Y = function (e2) {\n            function t2(e3, n2, o2) {\n                F(this, t2);\n                var i2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2)), r2 = o2, s2 = i2;\n                if (i2.__select = document.createElement(\"select\"), S.isArray(r2)) {\n                    var a2 = {};\n                    S.each(r2, function (e4) {\n                        a2[e4] = e4;\n                    }), r2 = a2;\n                }\n                return S.each(r2, function (e4, t3) {\n                    var n3 = document.createElement(\"option\");\n                    n3.innerHTML = t3, n3.setAttribute(\"value\", e4), s2.__select.appendChild(n3);\n                }), i2.updateDisplay(), X.bind(i2.__select, \"change\", function () {\n                    var e4 = this.options[this.selectedIndex].value;\n                    s2.setValue(e4);\n                }), i2.domElement.appendChild(i2.__select), i2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"setValue\", value: function (e3) {\n                    var n2 = j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"setValue\", this).call(this, e3);\n                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), n2;\n                }\n            }, {\n                key: \"updateDisplay\", value: function () {\n                    return X.isActive(this.__select) ? this : (this.__select.value = this.getValue(), j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"updateDisplay\", this).call(this));\n                }\n            }]), t2;\n        }(), J = function (e2) {\n            function t2(e3, n2) {\n                function o2() {\n                    r2.setValue(r2.__input.value);\n                }\n                F(this, t2);\n                var i2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2)), r2 = i2;\n                return i2.__input = document.createElement(\"input\"), i2.__input.setAttribute(\"type\", \"text\"), X.bind(i2.__input, \"keyup\", o2), X.bind(i2.__input, \"change\", o2), X.bind(i2.__input, \"blur\", function () {\n                    r2.__onFinishChange && r2.__onFinishChange.call(r2, r2.getValue());\n                }), X.bind(i2.__input, \"keydown\", function (e4) {\n                    e4.keyCode === 13 && this.blur();\n                }), i2.updateDisplay(), i2.domElement.appendChild(i2.__input), i2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"updateDisplay\", value: function () {\n                    return X.isActive(this.__input) || (this.__input.value = this.getValue()), j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"updateDisplay\", this).call(this);\n                }\n            }]), t2;\n        }(), W = function (e2) {\n            function t2(e3, n2, o2) {\n                F(this, t2);\n                var i2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2)), s2 = o2 || {};\n                return i2.__min = s2.min, i2.__max = s2.max, i2.__step = s2.step, S.isUndefined(i2.__step) ? i2.initialValue === 0 ? i2.__impliedStep = 1 : i2.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(i2.initialValue)) / Math.LN10)) / 10 : i2.__impliedStep = i2.__step, i2.__precision = r(i2.__impliedStep), i2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"setValue\", value: function (e3) {\n                    var n2 = e3;\n                    return this.__min !== void 0 && n2 < this.__min ? n2 = this.__min : this.__max !== void 0 && n2 > this.__max && (n2 = this.__max), this.__step !== void 0 && n2 % this.__step != 0 && (n2 = Math.round(n2 / this.__step) * this.__step), j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"setValue\", this).call(this, n2);\n                }\n            }, {\n                key: \"min\", value: function (e3) {\n                    return this.__min = e3, this;\n                }\n            }, {\n                key: \"max\", value: function (e3) {\n                    return this.__max = e3, this;\n                }\n            }, {\n                key: \"step\", value: function (e3) {\n                    return this.__step = e3, this.__impliedStep = e3, this.__precision = r(e3), this;\n                }\n            }]), t2;\n        }(), Q = function (e2) {\n            function t2(e3, n2, o2) {\n                function i2() {\n                    l2.__onFinishChange && l2.__onFinishChange.call(l2, l2.getValue());\n                }\n                function r2(e4) {\n                    var t3 = d2 - e4.clientY;\n                    l2.setValue(l2.getValue() + t3 * l2.__impliedStep), d2 = e4.clientY;\n                }\n                function s2() {\n                    X.unbind(window, \"mousemove\", r2), X.unbind(window, \"mouseup\", s2), i2();\n                }\n                F(this, t2);\n                var a2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2, o2));\n                a2.__truncationSuspended = false;\n                var l2 = a2, d2 = void 0;\n                return a2.__input = document.createElement(\"input\"), a2.__input.setAttribute(\"type\", \"text\"), X.bind(a2.__input, \"change\", function () {\n                    var e4 = parseFloat(l2.__input.value);\n                    S.isNaN(e4) || l2.setValue(e4);\n                }), X.bind(a2.__input, \"blur\", function () {\n                    i2();\n                }), X.bind(a2.__input, \"mousedown\", function (e4) {\n                    X.bind(window, \"mousemove\", r2), X.bind(window, \"mouseup\", s2), d2 = e4.clientY;\n                }), X.bind(a2.__input, \"keydown\", function (e4) {\n                    e4.keyCode === 13 && (l2.__truncationSuspended = true, this.blur(), l2.__truncationSuspended = false, i2());\n                }), a2.updateDisplay(), a2.domElement.appendChild(a2.__input), a2;\n            }\n            return D(t2, W), P(t2, [{\n                key: \"updateDisplay\", value: function () {\n                    return this.__input.value = this.__truncationSuspended ? this.getValue() : s(this.getValue(), this.__precision), j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"updateDisplay\", this).call(this);\n                }\n            }]), t2;\n        }(), q = function (e2) {\n            function t2(e3, n2, o2, i2, r2) {\n                function s2(e4) {\n                    e4.preventDefault();\n                    var t3 = _2.__background.getBoundingClientRect();\n                    return _2.setValue(a(e4.clientX, t3.left, t3.right, _2.__min, _2.__max)), false;\n                }\n                function l2() {\n                    X.unbind(window, \"mousemove\", s2), X.unbind(window, \"mouseup\", l2), _2.__onFinishChange && _2.__onFinishChange.call(_2, _2.getValue());\n                }\n                function d2(e4) {\n                    var t3 = e4.touches[0].clientX, n3 = _2.__background.getBoundingClientRect();\n                    _2.setValue(a(t3, n3.left, n3.right, _2.__min, _2.__max));\n                }\n                function c2() {\n                    X.unbind(window, \"touchmove\", d2), X.unbind(window, \"touchend\", c2), _2.__onFinishChange && _2.__onFinishChange.call(_2, _2.getValue());\n                }\n                F(this, t2);\n                var u2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2, { min: o2, max: i2, step: r2 })), _2 = u2;\n                return u2.__background = document.createElement(\"div\"), u2.__foreground = document.createElement(\"div\"), X.bind(u2.__background, \"mousedown\", function (e4) {\n                    document.activeElement.blur(), X.bind(window, \"mousemove\", s2), X.bind(window, \"mouseup\", l2), s2(e4);\n                }), X.bind(u2.__background, \"touchstart\", function (e4) {\n                    e4.touches.length === 1 && (X.bind(window, \"touchmove\", d2), X.bind(window, \"touchend\", c2), d2(e4));\n                }), X.addClass(u2.__background, \"slider\"), X.addClass(u2.__foreground, \"slider-fg\"), u2.updateDisplay(), u2.__background.appendChild(u2.__foreground), u2.domElement.appendChild(u2.__background), u2;\n            }\n            return D(t2, W), P(t2, [{\n                key: \"updateDisplay\", value: function () {\n                    var e3 = (this.getValue() - this.__min) / (this.__max - this.__min);\n                    return this.__foreground.style.width = 100 * e3 + \"%\", j(t2.prototype.__proto__ || Object.getPrototypeOf(t2.prototype), \"updateDisplay\", this).call(this);\n                }\n            }]), t2;\n        }(), Z = function (e2) {\n            function t2(e3, n2, o2) {\n                F(this, t2);\n                var i2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2)), r2 = i2;\n                return i2.__button = document.createElement(\"div\"), i2.__button.innerHTML = o2 === void 0 ? \"Fire\" : o2, X.bind(i2.__button, \"click\", function (e4) {\n                    return e4.preventDefault(), r2.fire(), false;\n                }), X.addClass(i2.__button, \"button\"), i2.domElement.appendChild(i2.__button), i2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"fire\", value: function () {\n                    this.__onChange && this.__onChange.call(this), this.getValue().call(this.object), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue());\n                }\n            }]), t2;\n        }(), $ = function (e2) {\n            function t2(e3, n2) {\n                function o2(e4) {\n                    u2(e4), X.bind(window, \"mousemove\", u2), X.bind(window, \"touchmove\", u2), X.bind(window, \"mouseup\", r2), X.bind(window, \"touchend\", r2);\n                }\n                function i2(e4) {\n                    _2(e4), X.bind(window, \"mousemove\", _2), X.bind(window, \"touchmove\", _2), X.bind(window, \"mouseup\", s2), X.bind(window, \"touchend\", s2);\n                }\n                function r2() {\n                    X.unbind(window, \"mousemove\", u2), X.unbind(window, \"touchmove\", u2), X.unbind(window, \"mouseup\", r2), X.unbind(window, \"touchend\", r2), c2();\n                }\n                function s2() {\n                    X.unbind(window, \"mousemove\", _2), X.unbind(window, \"touchmove\", _2), X.unbind(window, \"mouseup\", s2), X.unbind(window, \"touchend\", s2), c2();\n                }\n                function a2() {\n                    var e4 = R(this.value);\n                    e4 !== false ? (p2.__color.__state = e4, p2.setValue(p2.__color.toOriginal())) : this.value = p2.__color.toString();\n                }\n                function c2() {\n                    p2.__onFinishChange && p2.__onFinishChange.call(p2, p2.__color.toOriginal());\n                }\n                function u2(e4) {\n                    e4.type.indexOf(\"touch\") === -1 && e4.preventDefault();\n                    var t3 = p2.__saturation_field.getBoundingClientRect(), n3 = e4.touches && e4.touches[0] || e4, o3 = n3.clientX, i3 = n3.clientY, r3 = (o3 - t3.left) / (t3.right - t3.left), s3 = 1 - (i3 - t3.top) / (t3.bottom - t3.top);\n                    return s3 > 1 ? s3 = 1 : s3 < 0 && (s3 = 0), r3 > 1 ? r3 = 1 : r3 < 0 && (r3 = 0), p2.__color.v = s3, p2.__color.s = r3, p2.setValue(p2.__color.toOriginal()), false;\n                }\n                function _2(e4) {\n                    e4.type.indexOf(\"touch\") === -1 && e4.preventDefault();\n                    var t3 = p2.__hue_field.getBoundingClientRect(), n3 = 1 - ((e4.touches && e4.touches[0] || e4).clientY - t3.top) / (t3.bottom - t3.top);\n                    return n3 > 1 ? n3 = 1 : n3 < 0 && (n3 = 0), p2.__color.h = 360 * n3, p2.setValue(p2.__color.toOriginal()), false;\n                }\n                F(this, t2);\n                var h2 = V(this, (t2.__proto__ || Object.getPrototypeOf(t2)).call(this, e3, n2));\n                h2.__color = new I(h2.getValue()), h2.__temp = new I(0);\n                var p2 = h2;\n                h2.domElement = document.createElement(\"div\"), X.makeSelectable(h2.domElement, false), h2.__selector = document.createElement(\"div\"), h2.__selector.className = \"selector\", h2.__saturation_field = document.createElement(\"div\"), h2.__saturation_field.className = \"saturation-field\", h2.__field_knob = document.createElement(\"div\"), h2.__field_knob.className = \"field-knob\", h2.__field_knob_border = \"2px solid \", h2.__hue_knob = document.createElement(\"div\"), h2.__hue_knob.className = \"hue-knob\", h2.__hue_field = document.createElement(\"div\"), h2.__hue_field.className = \"hue-field\", h2.__input = document.createElement(\"input\"), h2.__input.type = \"text\", h2.__input_textShadow = \"0 1px 1px \", X.bind(h2.__input, \"keydown\", function (e4) {\n                    e4.keyCode === 13 && a2.call(this);\n                }), X.bind(h2.__input, \"blur\", a2), X.bind(h2.__selector, \"mousedown\", function () {\n                    X.addClass(this, \"drag\").bind(window, \"mouseup\", function () {\n                        X.removeClass(p2.__selector, \"drag\");\n                    });\n                }), X.bind(h2.__selector, \"touchstart\", function () {\n                    X.addClass(this, \"drag\").bind(window, \"touchend\", function () {\n                        X.removeClass(p2.__selector, \"drag\");\n                    });\n                });\n                var f2 = document.createElement(\"div\");\n                return S.extend(h2.__selector.style, { width: \"122px\", height: \"102px\", padding: \"3px\", backgroundColor: \"#222\", boxShadow: \"0px 1px 3px rgba(0,0,0,0.3)\" }), S.extend(h2.__field_knob.style, { position: \"absolute\", width: \"12px\", height: \"12px\", border: h2.__field_knob_border + (h2.__color.v < 0.5 ? \"#fff\" : \"#000\"), boxShadow: \"0px 1px 3px rgba(0,0,0,0.5)\", borderRadius: \"12px\", zIndex: 1 }), S.extend(h2.__hue_knob.style, { position: \"absolute\", width: \"15px\", height: \"2px\", borderRight: \"4px solid #fff\", zIndex: 1 }), S.extend(h2.__saturation_field.style, { width: \"100px\", height: \"100px\", border: \"1px solid #555\", marginRight: \"3px\", display: \"inline-block\", cursor: \"pointer\" }), S.extend(f2.style, { width: \"100%\", height: \"100%\", background: \"none\" }), l(f2, \"top\", \"rgba(0,0,0,0)\", \"#000\"), S.extend(h2.__hue_field.style, { width: \"15px\", height: \"100px\", border: \"1px solid #555\", cursor: \"ns-resize\", position: \"absolute\", top: \"3px\", right: \"3px\" }), d(h2.__hue_field), S.extend(h2.__input.style, { outline: \"none\", textAlign: \"center\", color: \"#fff\", border: 0, fontWeight: \"bold\", textShadow: h2.__input_textShadow + \"rgba(0,0,0,0.7)\" }), X.bind(h2.__saturation_field, \"mousedown\", o2), X.bind(h2.__saturation_field, \"touchstart\", o2), X.bind(h2.__field_knob, \"mousedown\", o2), X.bind(h2.__field_knob, \"touchstart\", o2), X.bind(h2.__hue_field, \"mousedown\", i2), X.bind(h2.__hue_field, \"touchstart\", i2), h2.__saturation_field.appendChild(f2), h2.__selector.appendChild(h2.__field_knob), h2.__selector.appendChild(h2.__saturation_field), h2.__selector.appendChild(h2.__hue_field), h2.__hue_field.appendChild(h2.__hue_knob), h2.domElement.appendChild(h2.__input), h2.domElement.appendChild(h2.__selector), h2.updateDisplay(), h2;\n            }\n            return D(t2, z), P(t2, [{\n                key: \"updateDisplay\", value: function () {\n                    var e3 = R(this.getValue());\n                    if (e3 !== false) {\n                        var t3 = false;\n                        S.each(I.COMPONENTS, function (n3) {\n                            if (!S.isUndefined(e3[n3]) && !S.isUndefined(this.__color.__state[n3]) && e3[n3] !== this.__color.__state[n3])\n                                return t3 = true, {};\n                        }, this), t3 && S.extend(this.__color.__state, e3);\n                    }\n                    S.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;\n                    var n2 = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0, o2 = 255 - n2;\n                    S.extend(this.__field_knob.style, { marginLeft: 100 * this.__color.s - 7 + \"px\", marginTop: 100 * (1 - this.__color.v) - 7 + \"px\", backgroundColor: this.__temp.toHexString(), border: this.__field_knob_border + \"rgb(\" + n2 + \",\" + n2 + \",\" + n2 + \")\" }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + \"px\", this.__temp.s = 1, this.__temp.v = 1, l(this.__saturation_field, \"left\", \"#fff\", this.__temp.toHexString()), this.__input.value = this.__color.toString(), S.extend(this.__input.style, { backgroundColor: this.__color.toHexString(), color: \"rgb(\" + n2 + \",\" + n2 + \",\" + n2 + \")\", textShadow: this.__input_textShadow + \"rgba(\" + o2 + \",\" + o2 + \",\" + o2 + \",.7)\" });\n                }\n            }]), t2;\n        }(), ee = [\"-moz-\", \"-o-\", \"-webkit-\", \"-ms-\", \"\"], te = {\n            load: function (e2, t2) {\n                var n2 = t2 || document, o2 = n2.createElement(\"link\");\n                o2.type = \"text/css\", o2.rel = \"stylesheet\", o2.href = e2, n2.getElementsByTagName(\"head\")[0].appendChild(o2);\n            }, inject: function (e2, t2) {\n                var n2 = t2 || document, o2 = document.createElement(\"style\");\n                o2.type = \"text/css\", o2.innerHTML = e2;\n                var i2 = n2.getElementsByTagName(\"head\")[0];\n                try {\n                    i2.appendChild(o2);\n                } catch (e3) {\n                }\n            }\n        }, ne = function (e2, t2) {\n            var n2 = e2[t2];\n            return S.isArray(arguments[2]) || S.isObject(arguments[2]) ? new Y(e2, t2, arguments[2]) : S.isNumber(n2) ? S.isNumber(arguments[2]) && S.isNumber(arguments[3]) ? S.isNumber(arguments[4]) ? new q(e2, t2, arguments[2], arguments[3], arguments[4]) : new q(e2, t2, arguments[2], arguments[3]) : S.isNumber(arguments[4]) ? new Q(e2, t2, { min: arguments[2], max: arguments[3], step: arguments[4] }) : new Q(e2, t2, { min: arguments[2], max: arguments[3] }) : S.isString(n2) ? new J(e2, t2) : S.isFunction(n2) ? new Z(e2, t2, \"\") : S.isBoolean(n2) ? new K(e2, t2) : null;\n        }, oe = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e2) {\n            setTimeout(e2, 1e3 / 60);\n        }, ie = function () {\n            function e2() {\n                F(this, e2), this.backgroundElement = document.createElement(\"div\"), S.extend(this.backgroundElement.style, { backgroundColor: \"rgba(0,0,0,0.8)\", top: 0, left: 0, display: \"none\", zIndex: \"1000\", opacity: 0, WebkitTransition: \"opacity 0.2s linear\", transition: \"opacity 0.2s linear\" }), X.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = \"fixed\", this.domElement = document.createElement(\"div\"), S.extend(this.domElement.style, { position: \"fixed\", display: \"none\", zIndex: \"1001\", opacity: 0, WebkitTransition: \"-webkit-transform 0.2s ease-out, opacity 0.2s linear\", transition: \"transform 0.2s ease-out, opacity 0.2s linear\" }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);\n                var t2 = this;\n                X.bind(this.backgroundElement, \"click\", function () {\n                    t2.hide();\n                });\n            }\n            return P(e2, [{\n                key: \"show\", value: function () {\n                    var e3 = this;\n                    this.backgroundElement.style.display = \"block\", this.domElement.style.display = \"block\", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\", this.layout(), S.defer(function () {\n                        e3.backgroundElement.style.opacity = 1, e3.domElement.style.opacity = 1, e3.domElement.style.webkitTransform = \"scale(1)\";\n                    });\n                }\n            }, {\n                key: \"hide\", value: function () {\n                    var e3 = this, t2 = function t3() {\n                        e3.domElement.style.display = \"none\", e3.backgroundElement.style.display = \"none\", X.unbind(e3.domElement, \"webkitTransitionEnd\", t3), X.unbind(e3.domElement, \"transitionend\", t3), X.unbind(e3.domElement, \"oTransitionEnd\", t3);\n                    };\n                    X.bind(this.domElement, \"webkitTransitionEnd\", t2), X.bind(this.domElement, \"transitionend\", t2), X.bind(this.domElement, \"oTransitionEnd\", t2), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\";\n                }\n            }, {\n                key: \"layout\", value: function () {\n                    this.domElement.style.left = window.innerWidth / 2 - X.getWidth(this.domElement) / 2 + \"px\", this.domElement.style.top = window.innerHeight / 2 - X.getHeight(this.domElement) / 2 + \"px\";\n                }\n            }]), e2;\n        }(), re = function (e2) {\n            if (e2 && typeof window != \"undefined\") {\n                var t2 = document.createElement(\"style\");\n                return t2.setAttribute(\"type\", \"text/css\"), t2.innerHTML = e2, document.head.appendChild(t2), e2;\n            }\n        }(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n        te.inject(re);\n        var se = \"Default\", ae = function () {\n            try {\n                return !!window.localStorage;\n            } catch (e2) {\n                return false;\n            }\n        }(), le = void 0, de = true, ce = void 0, ue = false, _e = [], he = function e2(t2) {\n            var n2 = this, o2 = t2 || {};\n            this.domElement = document.createElement(\"div\"), this.__ul = document.createElement(\"ul\"), this.domElement.appendChild(this.__ul), X.addClass(this.domElement, \"dg\"), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], o2 = S.defaults(o2, { closeOnTop: false, autoPlace: true, width: e2.DEFAULT_WIDTH }), o2 = S.defaults(o2, { resizable: o2.autoPlace, hideable: o2.autoPlace }), S.isUndefined(o2.load) ? o2.load = { preset: se } : o2.preset && (o2.load.preset = o2.preset), S.isUndefined(o2.parent) && o2.hideable && _e.push(this), o2.resizable = S.isUndefined(o2.parent) && o2.resizable, o2.autoPlace && S.isUndefined(o2.scrollable) && (o2.scrollable = true);\n            var i2 = ae && localStorage.getItem(m(this, \"isLocal\")) === \"true\", r2 = void 0, s2 = void 0;\n            if (Object.defineProperties(this, {\n                parent: {\n                    get: function () {\n                        return o2.parent;\n                    }\n                }, scrollable: {\n                    get: function () {\n                        return o2.scrollable;\n                    }\n                }, autoPlace: {\n                    get: function () {\n                        return o2.autoPlace;\n                    }\n                }, closeOnTop: {\n                    get: function () {\n                        return o2.closeOnTop;\n                    }\n                }, preset: {\n                    get: function () {\n                        return n2.parent ? n2.getRoot().preset : o2.load.preset;\n                    }, set: function (e3) {\n                        n2.parent ? n2.getRoot().preset = e3 : o2.load.preset = e3, E(this), n2.revert();\n                    }\n                }, width: {\n                    get: function () {\n                        return o2.width;\n                    }, set: function (e3) {\n                        o2.width = e3, w(n2, e3);\n                    }\n                }, name: {\n                    get: function () {\n                        return o2.name;\n                    }, set: function (e3) {\n                        o2.name = e3, s2 && (s2.innerHTML = o2.name);\n                    }\n                }, closed: {\n                    get: function () {\n                        return o2.closed;\n                    }, set: function (t3) {\n                        o2.closed = t3, o2.closed ? X.addClass(n2.__ul, e2.CLASS_CLOSED) : X.removeClass(n2.__ul, e2.CLASS_CLOSED), this.onResize(), n2.__closeButton && (n2.__closeButton.innerHTML = t3 ? e2.TEXT_OPEN : e2.TEXT_CLOSED);\n                    }\n                }, load: {\n                    get: function () {\n                        return o2.load;\n                    }\n                }, useLocalStorage: {\n                    get: function () {\n                        return i2;\n                    }, set: function (e3) {\n                        ae && (i2 = e3, e3 ? X.bind(window, \"unload\", r2) : X.unbind(window, \"unload\", r2), localStorage.setItem(m(n2, \"isLocal\"), e3));\n                    }\n                }\n            }), S.isUndefined(o2.parent)) {\n                if (o2.closed = false, X.addClass(this.domElement, e2.CLASS_MAIN), X.makeSelectable(this.domElement, false), ae && i2) {\n                    n2.useLocalStorage = true;\n                    var a2 = localStorage.getItem(m(this, \"gui\"));\n                    a2 && (o2.load = JSON.parse(a2));\n                }\n                this.__closeButton = document.createElement(\"div\"), this.__closeButton.innerHTML = e2.TEXT_CLOSED, X.addClass(this.__closeButton, e2.CLASS_CLOSE_BUTTON), o2.closeOnTop ? (X.addClass(this.__closeButton, e2.CLASS_CLOSE_TOP), this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0])) : (X.addClass(this.__closeButton, e2.CLASS_CLOSE_BOTTOM), this.domElement.appendChild(this.__closeButton)), X.bind(this.__closeButton, \"click\", function () {\n                    n2.closed = !n2.closed;\n                });\n            } else {\n                o2.closed === void 0 && (o2.closed = true);\n                var l2 = document.createTextNode(o2.name);\n                X.addClass(l2, \"controller-name\"), s2 = c(n2, l2);\n                X.addClass(this.__ul, e2.CLASS_CLOSED), X.addClass(s2, \"title\"), X.bind(s2, \"click\", function (e3) {\n                    return e3.preventDefault(), n2.closed = !n2.closed, false;\n                }), o2.closed || (this.closed = false);\n            }\n            o2.autoPlace && (S.isUndefined(o2.parent) && (de && (ce = document.createElement(\"div\"), X.addClass(ce, \"dg\"), X.addClass(ce, e2.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(ce), de = false), ce.appendChild(this.domElement), X.addClass(this.domElement, e2.CLASS_AUTO_PLACE)), this.parent || w(n2, o2.width)), this.__resizeHandler = function () {\n                n2.onResizeDebounced();\n            }, X.bind(window, \"resize\", this.__resizeHandler), X.bind(this.__ul, \"webkitTransitionEnd\", this.__resizeHandler), X.bind(this.__ul, \"transitionend\", this.__resizeHandler), X.bind(this.__ul, \"oTransitionEnd\", this.__resizeHandler), this.onResize(), o2.resizable && y(this), r2 = function () {\n                ae && localStorage.getItem(m(n2, \"isLocal\")) === \"true\" && localStorage.setItem(m(n2, \"gui\"), JSON.stringify(n2.getSaveObject()));\n            }, this.saveToLocalStorageIfPossible = r2, o2.parent || function () {\n                var e3 = n2.getRoot();\n                e3.width += 1, S.defer(function () {\n                    e3.width -= 1;\n                });\n            }();\n        };\n        he.toggleHide = function () {\n            ue = !ue, S.each(_e, function (e2) {\n                e2.domElement.style.display = ue ? \"none\" : \"\";\n            });\n        }, he.CLASS_AUTO_PLACE = \"a\", he.CLASS_AUTO_PLACE_CONTAINER = \"ac\", he.CLASS_MAIN = \"main\", he.CLASS_CONTROLLER_ROW = \"cr\", he.CLASS_TOO_TALL = \"taller-than-window\", he.CLASS_CLOSED = \"closed\", he.CLASS_CLOSE_BUTTON = \"close-button\", he.CLASS_CLOSE_TOP = \"close-top\", he.CLASS_CLOSE_BOTTOM = \"close-bottom\", he.CLASS_DRAG = \"drag\", he.DEFAULT_WIDTH = 245, he.TEXT_CLOSED = \"Close Controls\", he.TEXT_OPEN = \"Open Controls\", he._keydownHandler = function (e2) {\n            document.activeElement.type === \"text\" || e2.which !== 72 && e2.keyCode !== 72 || he.toggleHide();\n        }, X.bind(window, \"keydown\", he._keydownHandler, false), S.extend(he.prototype, {\n            add: function (e2, t2) {\n                return f(this, e2, t2, { factoryArgs: Array.prototype.slice.call(arguments, 2) });\n            }, addColor: function (e2, t2) {\n                return f(this, e2, t2, { color: true });\n            }, remove: function (e2) {\n                this.__ul.removeChild(e2.__li), this.__controllers.splice(this.__controllers.indexOf(e2), 1);\n                var t2 = this;\n                S.defer(function () {\n                    t2.onResize();\n                });\n            }, destroy: function () {\n                if (this.parent)\n                    throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");\n                this.autoPlace && ce.removeChild(this.domElement);\n                var e2 = this;\n                S.each(this.__folders, function (t2) {\n                    e2.removeFolder(t2);\n                }), X.unbind(window, \"keydown\", he._keydownHandler, false), u(this);\n            }, addFolder: function (e2) {\n                if (this.__folders[e2] !== void 0)\n                    throw new Error('You already have a folder in this GUI by the name \"' + e2 + '\"');\n                var t2 = { name: e2, parent: this };\n                t2.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[e2] && (t2.closed = this.load.folders[e2].closed, t2.load = this.load.folders[e2]);\n                var n2 = new he(t2);\n                this.__folders[e2] = n2;\n                var o2 = c(this, n2.domElement);\n                return X.addClass(o2, \"folder\"), n2;\n            }, removeFolder: function (e2) {\n                this.__ul.removeChild(e2.domElement.parentElement), delete this.__folders[e2.name], this.load && this.load.folders && this.load.folders[e2.name] && delete this.load.folders[e2.name], u(e2);\n                var t2 = this;\n                S.each(e2.__folders, function (t3) {\n                    e2.removeFolder(t3);\n                }), S.defer(function () {\n                    t2.onResize();\n                });\n            }, open: function () {\n                this.closed = false;\n            }, close: function () {\n                this.closed = true;\n            }, onResize: function () {\n                var e2 = this.getRoot();\n                if (e2.scrollable) {\n                    var t2 = X.getOffset(e2.__ul).top, n2 = 0;\n                    S.each(e2.__ul.childNodes, function (t3) {\n                        e2.autoPlace && t3 === e2.__save_row || (n2 += X.getHeight(t3));\n                    }), window.innerHeight - t2 - 20 < n2 ? (X.addClass(e2.domElement, he.CLASS_TOO_TALL), e2.__ul.style.height = window.innerHeight - t2 - 20 + \"px\") : (X.removeClass(e2.domElement, he.CLASS_TOO_TALL), e2.__ul.style.height = \"auto\");\n                }\n                e2.__resize_handle && S.defer(function () {\n                    e2.__resize_handle.style.height = e2.__ul.offsetHeight + \"px\";\n                }), e2.__closeButton && (e2.__closeButton.style.width = e2.width + \"px\");\n            }, onResizeDebounced: S.debounce(function () {\n                this.onResize();\n            }, 50), remember: function () {\n                if (S.isUndefined(le) && ((le = new ie()).domElement.innerHTML = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`), this.parent)\n                    throw new Error(\"You can only call remember on a top level GUI.\");\n                var e2 = this;\n                S.each(Array.prototype.slice.call(arguments), function (t2) {\n                    e2.__rememberedObjects.length === 0 && v(e2), e2.__rememberedObjects.indexOf(t2) === -1 && e2.__rememberedObjects.push(t2);\n                }), this.autoPlace && w(this, this.width);\n            }, getRoot: function () {\n                for (var e2 = this; e2.parent;)\n                    e2 = e2.parent;\n                return e2;\n            }, getSaveObject: function () {\n                var e2 = this.load;\n                return e2.closed = this.closed, this.__rememberedObjects.length > 0 && (e2.preset = this.preset, e2.remembered || (e2.remembered = {}), e2.remembered[this.preset] = x(this)), e2.folders = {}, S.each(this.__folders, function (t2, n2) {\n                    e2.folders[n2] = t2.getSaveObject();\n                }), e2;\n            }, save: function () {\n                this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = x(this), _(this, false), this.saveToLocalStorageIfPossible();\n            }, saveAs: function (e2) {\n                this.load.remembered || (this.load.remembered = {}, this.load.remembered[se] = x(this, true)), this.load.remembered[e2] = x(this), this.preset = e2, g(this, e2, true), this.saveToLocalStorageIfPossible();\n            }, revert: function (e2) {\n                S.each(this.__controllers, function (t2) {\n                    this.getRoot().load.remembered ? p(e2 || this.getRoot(), t2) : t2.setValue(t2.initialValue), t2.__onFinishChange && t2.__onFinishChange.call(t2, t2.getValue());\n                }, this), S.each(this.__folders, function (e3) {\n                    e3.revert(e3);\n                }), e2 || _(this.getRoot(), false);\n            }, listen: function (e2) {\n                var t2 = this.__listening.length === 0;\n                this.__listening.push(e2), t2 && C(this.__listening);\n            }, updateDisplay: function () {\n                S.each(this.__controllers, function (e2) {\n                    e2.updateDisplay();\n                }), S.each(this.__folders, function (e2) {\n                    e2.updateDisplay();\n                });\n            }\n        });\n        var pe = { Color: I, math: N, interpret: R }, fe = { Controller: z, BooleanController: K, OptionController: Y, StringController: J, NumberController: W, NumberControllerBox: Q, NumberControllerSlider: q, FunctionController: Z, ColorController: $ }, me = { dom: X }, ge = { GUI: he }, be = he, ve = { color: pe, controllers: fe, dom: me, gui: ge, GUI: be };\n        e.color = pe, e.controllers = fe, e.dom = me, e.gui = ge, e.GUI = be, e.default = ve, Object.defineProperty(e, \"__esModule\", { value: true });\n    });\n\n    const webgl_fluid_settings = {\n        \"color_type\":\"simple\",\n        \"color\":\"#2D0D51\",\n        \"resolution\":\"256\",\n        \"velocity\":\"2.9\",\n        \"density\":\"1.73\",\n        \"pressure\":\"0.18\",\n        \"splat_radius\":\"0.67\",\n        \"backspace_animation\":\"yes\"\n    };\n    function initCanvas(el, config) {\n        const canvas = el;\n        resizeCanvas();\n        config = __spreadValues({\n            IMMEDIATE: true,\n            TRIGGER: \"hover\",\n            SIM_RESOLUTION: 128,\n            DYE_RESOLUTION: 1024,\n            CAPTURE_RESOLUTION: 512,\n            DENSITY_DISSIPATION: 1,\n            VELOCITY_DISSIPATION: 0.2,\n            PRESSURE: 0.8,\n            PRESSURE_ITERATIONS: 20,\n            CURL: 30,\n            SPLAT_RADIUS: 0.25,\n            SPLAT_FORCE: 6e3,\n            SHADING: true,\n            COLORFUL: true,\n            COLOR_UPDATE_SPEED: 10,\n            PAUSED: false,\n            BACK_COLOR: { r: 0, g: 0, b: 0 },\n            TRANSPARENT: false,\n            BLOOM: true,\n            BLOOM_ITERATIONS: 8,\n            BLOOM_RESOLUTION: 256,\n            BLOOM_INTENSITY: 0.8,\n            BLOOM_THRESHOLD: 0.6,\n            BLOOM_SOFT_KNEE: 0.7,\n            SUNRAYS: true,\n            SUNRAYS_RESOLUTION: 196,\n            SUNRAYS_WEIGHT: 1,\n            TYPE_COLOR: false,\n            COLOR: webgl_fluid_settings.color\n        }, config);\n\n        function pointerPrototype() {\n            this.id = -1;\n            this.texcoordX = 0;\n            this.texcoordY = 0;\n            this.prevTexcoordX = 0;\n            this.prevTexcoordY = 0;\n            this.deltaX = 0;\n            this.deltaY = 0;\n            this.down = false;\n            this.moved = false;\n            this.color = [30, 0, 300];\n        }\n        let pointers = [];\n        let splatStack = [];\n        let bloomFramebuffers = [];\n        pointers.push(new pointerPrototype());\n        const { gl, ext } = getWebGLContext(canvas);\n        if (isMobile()) {\n            config.DYE_RESOLUTION = 512;\n        }\n        if (!ext.supportLinearFiltering) {\n            config.DYE_RESOLUTION = 512;\n            config.SHADING = false;\n            config.BLOOM = false;\n            config.SUNRAYS = false;\n        }\n        function getWebGLContext(canvas2) {\n            const params = { alpha: true, depth: false, stencil: false, antialias: false, preserveDrawingBuffer: false };\n            let gl2 = canvas2.getContext(\"webgl2\", params);\n            const isWebGL2 = !!gl2;\n            if (!isWebGL2)\n                gl2 = canvas2.getContext(\"webgl\", params) || canvas2.getContext(\"experimental-webgl\", params);\n            let halfFloat;\n            let supportLinearFiltering;\n            if (isWebGL2) {\n                gl2.getExtension(\"EXT_color_buffer_float\");\n                supportLinearFiltering = gl2.getExtension(\"OES_texture_float_linear\");\n            } else {\n                halfFloat = gl2.getExtension(\"OES_texture_half_float\");\n                supportLinearFiltering = gl2.getExtension(\"OES_texture_half_float_linear\");\n            }\n            gl2.clearColor(0, 0, 0, 1);\n            const halfFloatTexType = isWebGL2 ? gl2.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\n            let formatRGBA;\n            let formatRG;\n            let formatR;\n            if (isWebGL2) {\n                formatRGBA = getSupportedFormat(gl2, gl2.RGBA16F, gl2.RGBA, halfFloatTexType);\n                formatRG = getSupportedFormat(gl2, gl2.RG16F, gl2.RG, halfFloatTexType);\n                formatR = getSupportedFormat(gl2, gl2.R16F, gl2.RED, halfFloatTexType);\n            } else {\n                formatRGBA = getSupportedFormat(gl2, gl2.RGBA, gl2.RGBA, halfFloatTexType);\n                formatRG = getSupportedFormat(gl2, gl2.RGBA, gl2.RGBA, halfFloatTexType);\n                formatR = getSupportedFormat(gl2, gl2.RGBA, gl2.RGBA, halfFloatTexType);\n            }\n            return {\n                gl: gl2,\n                ext: {\n                    formatRGBA,\n                    formatRG,\n                    formatR,\n                    halfFloatTexType,\n                    supportLinearFiltering\n                }\n            };\n        }\n        function getSupportedFormat(gl2, internalFormat, format, type) {\n            if (!supportRenderTextureFormat(gl2, internalFormat, format, type)) {\n                switch (internalFormat) {\n                    case gl2.R16F:\n                        return getSupportedFormat(gl2, gl2.RG16F, gl2.RG, type);\n                    case gl2.RG16F:\n                        return getSupportedFormat(gl2, gl2.RGBA16F, gl2.RGBA, type);\n                    default:\n                        return null;\n                }\n            }\n            return {\n                internalFormat,\n                format\n            };\n        }\n        function supportRenderTextureFormat(gl2, internalFormat, format, type) {\n            let texture = gl2.createTexture();\n            gl2.bindTexture(gl2.TEXTURE_2D, texture);\n            gl2.texParameteri(gl2.TEXTURE_2D, gl2.TEXTURE_MIN_FILTER, gl2.NEAREST);\n            gl2.texParameteri(gl2.TEXTURE_2D, gl2.TEXTURE_MAG_FILTER, gl2.NEAREST);\n            gl2.texParameteri(gl2.TEXTURE_2D, gl2.TEXTURE_WRAP_S, gl2.CLAMP_TO_EDGE);\n            gl2.texParameteri(gl2.TEXTURE_2D, gl2.TEXTURE_WRAP_T, gl2.CLAMP_TO_EDGE);\n            gl2.texImage2D(gl2.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\n            let fbo = gl2.createFramebuffer();\n            gl2.bindFramebuffer(gl2.FRAMEBUFFER, fbo);\n            gl2.framebufferTexture2D(gl2.FRAMEBUFFER, gl2.COLOR_ATTACHMENT0, gl2.TEXTURE_2D, texture, 0);\n            const status = gl2.checkFramebufferStatus(gl2.FRAMEBUFFER);\n            return status == gl2.FRAMEBUFFER_COMPLETE;\n        }\n        function isMobile() {\n            return /Mobi|Android/i.test(navigator.userAgent);\n        }\n        class Material {\n            constructor(vertexShader, fragmentShaderSource) {\n                this.vertexShader = vertexShader;\n                this.fragmentShaderSource = fragmentShaderSource;\n                this.programs = [];\n                this.activeProgram = null;\n                this.uniforms = [];\n            }\n            setKeywords(keywords) {\n                let hash = 0;\n                for (let i = 0; i < keywords.length; i++)\n                    hash += hashCode(keywords[i]);\n                let program = this.programs[hash];\n                if (program == null) {\n                    let fragmentShader = compileShader(gl.FRAGMENT_SHADER, this.fragmentShaderSource, keywords);\n                    program = createProgram(this.vertexShader, fragmentShader);\n                    this.programs[hash] = program;\n                }\n                if (program == this.activeProgram)\n                    return;\n                this.uniforms = getUniforms(program);\n                this.activeProgram = program;\n            }\n            bind() {\n                gl.useProgram(this.activeProgram);\n            }\n        }\n        class Program {\n            constructor(vertexShader, fragmentShader) {\n                this.uniforms = {};\n                this.program = createProgram(vertexShader, fragmentShader);\n                this.uniforms = getUniforms(this.program);\n            }\n            bind() {\n                gl.useProgram(this.program);\n            }\n        }\n        function createProgram(vertexShader, fragmentShader) {\n            let program = gl.createProgram();\n            gl.attachShader(program, vertexShader);\n            gl.attachShader(program, fragmentShader);\n            gl.linkProgram(program);\n            if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n                throw gl.getProgramInfoLog(program);\n            return program;\n        }\n        function getUniforms(program) {\n            let uniforms = [];\n            let uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n            for (let i = 0; i < uniformCount; i++) {\n                let uniformName = gl.getActiveUniform(program, i).name;\n                uniforms[uniformName] = gl.getUniformLocation(program, uniformName);\n            }\n            return uniforms;\n        }\n        function compileShader(type, source, keywords) {\n            source = addKeywords(source, keywords);\n            const shader = gl.createShader(type);\n            gl.shaderSource(shader, source);\n            gl.compileShader(shader);\n            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n                throw gl.getShaderInfoLog(shader);\n            return shader;\n        }\n        function addKeywords(source, keywords) {\n            if (keywords == null)\n                return source;\n            let keywordsString = \"\";\n            keywords.forEach((keyword) => {\n                keywordsString += \"#define \" + keyword + \"\\n\";\n            });\n            return keywordsString + source;\n        }\n        const baseVertexShader = compileShader(gl.VERTEX_SHADER, `\n    precision highp float;\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`);\n        const blurVertexShader = compileShader(gl.VERTEX_SHADER, `\n    precision highp float;\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`);\n        const blurShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n`);\n        const copyShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n`);\n        const clearShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n`);\n        const colorShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    uniform vec4 color;\n    void main () {\n        gl_FragColor = color;\n    }\n`);\n        const checkerboardShader = compileShader(gl.FRAGMENT_SHADER, config.TRANSPARENT ? `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n    #define SCALE 25.0\n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n` : `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n    #define SCALE 25.0\n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(vec3(v), 1.0);\n    }\n`);\n        const displayShaderSource = `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uSunrays;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n    vec3 linearToGamma (vec3 color) {\n        color = max(color, vec3(0));\n        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n    #ifdef SHADING\n        vec3 lc = texture2D(uTexture, vL).rgb;\n        vec3 rc = texture2D(uTexture, vR).rgb;\n        vec3 tc = texture2D(uTexture, vT).rgb;\n        vec3 bc = texture2D(uTexture, vB).rgb;\n        float dx = length(rc) - length(lc);\n        float dy = length(tc) - length(bc);\n        vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n        vec3 l = vec3(0.0, 0.0, 1.0);\n        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n        c *= diffuse;\n    #endif\n    #ifdef BLOOM\n        vec3 bloom = texture2D(uBloom, vUv).rgb;\n    #endif\n    #ifdef SUNRAYS\n        float sunrays = texture2D(uSunrays, vUv).r;\n        c *= sunrays;\n    #ifdef BLOOM\n        bloom *= sunrays;\n    #endif\n    #endif\n    #ifdef BLOOM\n        float noise = texture2D(uDithering, vUv * ditherScale).r;\n        noise = noise * 2.0 - 1.0;\n        bloom += noise / 255.0;\n        bloom = linearToGamma(bloom);\n        c += bloom;\n    #endif\n        float a = max(c.r, max(c.g, c.b));\n        gl_FragColor = vec4(c, a);\n    }\n`;\n        const bloomPrefilterShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n`);\n        const bloomBlurShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n`);\n        const bloomFinalShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n`);\n        const sunraysMaskShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 c = texture2D(uTexture, vUv);\n        float br = max(c.r, max(c.g, c.b));\n        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);\n        gl_FragColor = c;\n    }\n`);\n        const sunraysShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float weight;\n    #define ITERATIONS 16\n    void main () {\n        float Density = 0.3;\n        float Decay = 0.95;\n        float Exposure = 0.7;\n        vec2 coord = vUv;\n        vec2 dir = vUv - 0.5;\n        dir *= 1.0 / float(ITERATIONS) * Density;\n        float illuminationDecay = 1.0;\n        float color = texture2D(uTexture, vUv).a;\n        for (int i = 0; i < ITERATIONS; i++)\n        {\n            coord -= dir;\n            float col = texture2D(uTexture, coord).a;\n            color += col * illuminationDecay * weight;\n            illuminationDecay *= Decay;\n        }\n        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);\n    }\n`);\n        const splatShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n`);\n        const advectionShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }`, ext.supportLinearFiltering ? null : [\"MANUAL_FILTERING\"]);\n        const divergenceShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n`);\n        const curlShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n`);\n        const vorticityShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n        vec2 vel = texture2D(uVelocity, vUv).xy;\n        gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n    }\n`);\n        const pressureShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n`);\n        const gradientSubtractShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`);\n        const blit = (() => {\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW);\n            gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n            gl.enableVertexAttribArray(0);\n            return (destination) => {\n                gl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n                gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n            };\n        })();\n        let dye;\n        let velocity;\n        let divergence;\n        let curl;\n        let pressure;\n        let bloom;\n        let sunrays;\n        let sunraysTemp;\n        let ditheringTexture = createTextureAsync();\n        const blurProgram = new Program(blurVertexShader, blurShader);\n        const copyProgram = new Program(baseVertexShader, copyShader);\n        const clearProgram = new Program(baseVertexShader, clearShader);\n        const colorProgram = new Program(baseVertexShader, colorShader);\n        const checkerboardProgram = new Program(baseVertexShader, checkerboardShader);\n        const bloomPrefilterProgram = new Program(baseVertexShader, bloomPrefilterShader);\n        const bloomBlurProgram = new Program(baseVertexShader, bloomBlurShader);\n        const bloomFinalProgram = new Program(baseVertexShader, bloomFinalShader);\n        const sunraysMaskProgram = new Program(baseVertexShader, sunraysMaskShader);\n        const sunraysProgram = new Program(baseVertexShader, sunraysShader);\n        const splatProgram = new Program(baseVertexShader, splatShader);\n        const advectionProgram = new Program(baseVertexShader, advectionShader);\n        const divergenceProgram = new Program(baseVertexShader, divergenceShader);\n        const curlProgram = new Program(baseVertexShader, curlShader);\n        const vorticityProgram = new Program(baseVertexShader, vorticityShader);\n        const pressureProgram = new Program(baseVertexShader, pressureShader);\n        const gradienSubtractProgram = new Program(baseVertexShader, gradientSubtractShader);\n        const displayMaterial = new Material(baseVertexShader, displayShaderSource);\n        function initFramebuffers() {\n            let simRes = getResolution(config.SIM_RESOLUTION);\n            let dyeRes = getResolution(config.DYE_RESOLUTION);\n            const texType = ext.halfFloatTexType;\n            const rgba = ext.formatRGBA;\n            const rg = ext.formatRG;\n            const r = ext.formatR;\n            const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST;\n            if (dye == null)\n                dye = createDoubleFBO(dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n            else\n                dye = resizeDoubleFBO(dye, dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n            if (velocity == null)\n                velocity = createDoubleFBO(simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering);\n            else\n                velocity = resizeDoubleFBO(velocity, simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering);\n            divergence = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n            curl = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n            pressure = createDoubleFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n            initBloomFramebuffers();\n            initSunraysFramebuffers();\n        }\n        function initBloomFramebuffers() {\n            let res = getResolution(config.BLOOM_RESOLUTION);\n            const texType = ext.halfFloatTexType;\n            const rgba = ext.formatRGBA;\n            const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST;\n            bloom = createFBO(res.width, res.height, rgba.internalFormat, rgba.format, texType, filtering);\n            bloomFramebuffers.length = 0;\n            for (let i = 0; i < config.BLOOM_ITERATIONS; i++) {\n                let width = res.width >> i + 1;\n                let height = res.height >> i + 1;\n                if (width < 2 || height < 2)\n                    break;\n                let fbo = createFBO(width, height, rgba.internalFormat, rgba.format, texType, filtering);\n                bloomFramebuffers.push(fbo);\n            }\n        }\n        function initSunraysFramebuffers() {\n            let res = getResolution(config.SUNRAYS_RESOLUTION);\n            const texType = ext.halfFloatTexType;\n            const r = ext.formatR;\n            const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST;\n            sunrays = createFBO(res.width, res.height, r.internalFormat, r.format, texType, filtering);\n            sunraysTemp = createFBO(res.width, res.height, r.internalFormat, r.format, texType, filtering);\n        }\n        function createFBO(w, h, internalFormat, format, type, param) {\n            gl.activeTexture(gl.TEXTURE0);\n            let texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\n            let fbo = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n            gl.viewport(0, 0, w, h);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n            let texelSizeX = 1 / w;\n            let texelSizeY = 1 / h;\n            return {\n                texture,\n                fbo,\n                width: w,\n                height: h,\n                texelSizeX,\n                texelSizeY,\n                attach(id) {\n                    gl.activeTexture(gl.TEXTURE0 + id);\n                    gl.bindTexture(gl.TEXTURE_2D, texture);\n                    return id;\n                }\n            };\n        }\n        function createDoubleFBO(w, h, internalFormat, format, type, param) {\n            let fbo1 = createFBO(w, h, internalFormat, format, type, param);\n            let fbo2 = createFBO(w, h, internalFormat, format, type, param);\n            return {\n                width: w,\n                height: h,\n                texelSizeX: fbo1.texelSizeX,\n                texelSizeY: fbo1.texelSizeY,\n                get read() {\n                    return fbo1;\n                },\n                set read(value) {\n                    fbo1 = value;\n                },\n                get write() {\n                    return fbo2;\n                },\n                set write(value) {\n                    fbo2 = value;\n                },\n                swap() {\n                    let temp = fbo1;\n                    fbo1 = fbo2;\n                    fbo2 = temp;\n                }\n            };\n        }\n        function resizeFBO(target, w, h, internalFormat, format, type, param) {\n            let newFBO = createFBO(w, h, internalFormat, format, type, param);\n            copyProgram.bind();\n            gl.uniform1i(copyProgram.uniforms.uTexture, target.attach(0));\n            blit(newFBO.fbo);\n            return newFBO;\n        }\n        function resizeDoubleFBO(target, w, h, internalFormat, format, type, param) {\n            if (target.width == w && target.height == h)\n                return target;\n            target.read = resizeFBO(target.read, w, h, internalFormat, format, type, param);\n            target.write = createFBO(w, h, internalFormat, format, type, param);\n            target.width = w;\n            target.height = h;\n            target.texelSizeX = 1 / w;\n            target.texelSizeY = 1 / h;\n            return target;\n        }\n        function createTextureAsync(url) {\n            let texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, new Uint8Array([255, 255, 255]));\n            let obj = {\n                texture,\n                width: 1,\n                height: 1,\n                attach(id) {\n                    gl.activeTexture(gl.TEXTURE0 + id);\n                    gl.bindTexture(gl.TEXTURE_2D, texture);\n                    return id;\n                }\n            };\n            let image = new Image();\n            image.onload = () => {\n                obj.width = image.width;\n                obj.height = image.height;\n                gl.bindTexture(gl.TEXTURE_2D, texture);\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n            };\n            image.src = url ? url : 'data:,';\n            return obj;\n        }\n        function updateKeywords() {\n            let displayKeywords = [];\n            if (config.SHADING)\n                displayKeywords.push(\"SHADING\");\n            if (config.BLOOM)\n                displayKeywords.push(\"BLOOM\");\n            if (config.SUNRAYS)\n                displayKeywords.push(\"SUNRAYS\");\n            displayMaterial.setKeywords(displayKeywords);\n        }\n        updateKeywords();\n        initFramebuffers();\n        config.IMMEDIATE && multipleSplats(parseInt(Math.random() * 20) + 5);\n        let lastUpdateTime = Date.now();\n        let colorUpdateTimer = 0;\n        update();\n        function update() {\n            const dt = calcDeltaTime();\n            if (resizeCanvas())\n                initFramebuffers();\n            updateColors(dt);\n            applyInputs();\n            if (!config.PAUSED)\n                step(dt);\n            render(null);\n            requestAnimationFrame(update);\n        }\n        function calcDeltaTime() {\n            let now = Date.now();\n            let dt = (now - lastUpdateTime) / 1e3;\n            dt = Math.min(dt, 0.016666);\n            lastUpdateTime = now;\n            return dt;\n        }\n        function resizeCanvas() {\n            let width = scaleByPixelRatio(canvas.clientWidth);\n            let height = scaleByPixelRatio(canvas.clientHeight);\n            if (canvas.width != width || canvas.height != height) {\n                canvas.width = width;\n                canvas.height = height;\n                return true;\n            }\n            return false;\n        }\n        function updateColors(dt) {\n            if (!config.COLORFUL)\n                return;\n            colorUpdateTimer += dt * config.COLOR_UPDATE_SPEED;\n            if (colorUpdateTimer >= 1) {\n                colorUpdateTimer = wrap(colorUpdateTimer, 0, 1);\n                pointers.forEach((p) => {\n                    p.color = generateColor();\n                });\n            }\n        }\n        function applyInputs() {\n            if (splatStack.length > 0)\n                multipleSplats(splatStack.pop());\n            pointers.forEach((p) => {\n                if (p.moved) {\n                    p.moved = false;\n                    splatPointer(p);\n                }\n            });\n        }\n        function step(dt) {\n            gl.disable(gl.BLEND);\n            gl.viewport(0, 0, velocity.width, velocity.height);\n            curlProgram.bind();\n            gl.uniform2f(curlProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(curlProgram.uniforms.uVelocity, velocity.read.attach(0));\n            blit(curl.fbo);\n            vorticityProgram.bind();\n            gl.uniform2f(vorticityProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(vorticityProgram.uniforms.uVelocity, velocity.read.attach(0));\n            gl.uniform1i(vorticityProgram.uniforms.uCurl, curl.attach(1));\n            gl.uniform1f(vorticityProgram.uniforms.curl, config.CURL);\n            gl.uniform1f(vorticityProgram.uniforms.dt, dt);\n            blit(velocity.write.fbo);\n            velocity.swap();\n            divergenceProgram.bind();\n            gl.uniform2f(divergenceProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(divergenceProgram.uniforms.uVelocity, velocity.read.attach(0));\n            blit(divergence.fbo);\n            clearProgram.bind();\n            gl.uniform1i(clearProgram.uniforms.uTexture, pressure.read.attach(0));\n            gl.uniform1f(clearProgram.uniforms.value, config.PRESSURE);\n            blit(pressure.write.fbo);\n            pressure.swap();\n            pressureProgram.bind();\n            gl.uniform2f(pressureProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(pressureProgram.uniforms.uDivergence, divergence.attach(0));\n            for (let i = 0; i < config.PRESSURE_ITERATIONS; i++) {\n                gl.uniform1i(pressureProgram.uniforms.uPressure, pressure.read.attach(1));\n                blit(pressure.write.fbo);\n                pressure.swap();\n            }\n            gradienSubtractProgram.bind();\n            gl.uniform2f(gradienSubtractProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(gradienSubtractProgram.uniforms.uPressure, pressure.read.attach(0));\n            gl.uniform1i(gradienSubtractProgram.uniforms.uVelocity, velocity.read.attach(1));\n            blit(velocity.write.fbo);\n            velocity.swap();\n            advectionProgram.bind();\n            gl.uniform2f(advectionProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            if (!ext.supportLinearFiltering)\n                gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, velocity.texelSizeX, velocity.texelSizeY);\n            let velocityId = velocity.read.attach(0);\n            gl.uniform1i(advectionProgram.uniforms.uVelocity, velocityId);\n            gl.uniform1i(advectionProgram.uniforms.uSource, velocityId);\n            gl.uniform1f(advectionProgram.uniforms.dt, dt);\n            gl.uniform1f(advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION);\n            blit(velocity.write.fbo);\n            velocity.swap();\n            gl.viewport(0, 0, dye.width, dye.height);\n            if (!ext.supportLinearFiltering)\n                gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, dye.texelSizeX, dye.texelSizeY);\n            gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read.attach(0));\n            gl.uniform1i(advectionProgram.uniforms.uSource, dye.read.attach(1));\n            gl.uniform1f(advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION);\n            blit(dye.write.fbo);\n            dye.swap();\n        }\n        function render(target) {\n            if (config.BLOOM)\n                applyBloom(dye.read, bloom);\n            if (config.SUNRAYS) {\n                applySunrays(dye.read, dye.write, sunrays);\n                blur(sunrays, sunraysTemp, 1);\n            }\n            if (target == null || !config.TRANSPARENT) {\n                gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n                gl.enable(gl.BLEND);\n            } else {\n                gl.disable(gl.BLEND);\n            }\n            let width = target == null ? gl.drawingBufferWidth : target.width;\n            let height = target == null ? gl.drawingBufferHeight : target.height;\n            gl.viewport(0, 0, width, height);\n            let fbo = target == null ? null : target.fbo;\n            if (!config.TRANSPARENT)\n                drawColor(fbo, normalizeColor(config.BACK_COLOR));\n            if (target == null && config.TRANSPARENT)\n                drawCheckerboard(fbo);\n            drawDisplay(fbo, width, height);\n        }\n        function drawColor(fbo, color) {\n            colorProgram.bind();\n            gl.uniform4f(colorProgram.uniforms.color, color.r, color.g, color.b, 1);\n            blit(fbo);\n        }\n        function drawCheckerboard(fbo) {\n            checkerboardProgram.bind();\n            gl.uniform1f(checkerboardProgram.uniforms.aspectRatio, canvas.width / canvas.height);\n            blit(fbo);\n        }\n        function drawDisplay(fbo, width, height) {\n            displayMaterial.bind();\n            if (config.SHADING)\n                gl.uniform2f(displayMaterial.uniforms.texelSize, 1 / width, 1 / height);\n            gl.uniform1i(displayMaterial.uniforms.uTexture, dye.read.attach(0));\n            if (config.BLOOM) {\n                gl.uniform1i(displayMaterial.uniforms.uBloom, bloom.attach(1));\n                gl.uniform1i(displayMaterial.uniforms.uDithering, ditheringTexture.attach(2));\n                let scale = getTextureScale(ditheringTexture, width, height);\n                gl.uniform2f(displayMaterial.uniforms.ditherScale, scale.x, scale.y);\n            }\n            if (config.SUNRAYS)\n                gl.uniform1i(displayMaterial.uniforms.uSunrays, sunrays.attach(3));\n            blit(fbo);\n        }\n        function applyBloom(source, destination) {\n            if (bloomFramebuffers.length < 2)\n                return;\n            let last = destination;\n            gl.disable(gl.BLEND);\n            bloomPrefilterProgram.bind();\n            let knee = config.BLOOM_THRESHOLD * config.BLOOM_SOFT_KNEE + 1e-4;\n            let curve0 = config.BLOOM_THRESHOLD - knee;\n            let curve1 = knee * 2;\n            let curve2 = 0.25 / knee;\n            gl.uniform3f(bloomPrefilterProgram.uniforms.curve, curve0, curve1, curve2);\n            gl.uniform1f(bloomPrefilterProgram.uniforms.threshold, config.BLOOM_THRESHOLD);\n            gl.uniform1i(bloomPrefilterProgram.uniforms.uTexture, source.attach(0));\n            gl.viewport(0, 0, last.width, last.height);\n            blit(last.fbo);\n            bloomBlurProgram.bind();\n            for (let i = 0; i < bloomFramebuffers.length; i++) {\n                let dest = bloomFramebuffers[i];\n                gl.uniform2f(bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n                gl.uniform1i(bloomBlurProgram.uniforms.uTexture, last.attach(0));\n                gl.viewport(0, 0, dest.width, dest.height);\n                blit(dest.fbo);\n                last = dest;\n            }\n            gl.blendFunc(gl.ONE, gl.ONE);\n            gl.enable(gl.BLEND);\n            for (let i = bloomFramebuffers.length - 2; i >= 0; i--) {\n                let baseTex = bloomFramebuffers[i];\n                gl.uniform2f(bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n                gl.uniform1i(bloomBlurProgram.uniforms.uTexture, last.attach(0));\n                gl.viewport(0, 0, baseTex.width, baseTex.height);\n                blit(baseTex.fbo);\n                last = baseTex;\n            }\n            gl.disable(gl.BLEND);\n            bloomFinalProgram.bind();\n            gl.uniform2f(bloomFinalProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n            gl.uniform1i(bloomFinalProgram.uniforms.uTexture, last.attach(0));\n            gl.uniform1f(bloomFinalProgram.uniforms.intensity, config.BLOOM_INTENSITY);\n            gl.viewport(0, 0, destination.width, destination.height);\n            blit(destination.fbo);\n        }\n        function applySunrays(source, mask, destination) {\n            gl.disable(gl.BLEND);\n            sunraysMaskProgram.bind();\n            gl.uniform1i(sunraysMaskProgram.uniforms.uTexture, source.attach(0));\n            gl.viewport(0, 0, mask.width, mask.height);\n            blit(mask.fbo);\n            sunraysProgram.bind();\n            gl.uniform1f(sunraysProgram.uniforms.weight, config.SUNRAYS_WEIGHT);\n            gl.uniform1i(sunraysProgram.uniforms.uTexture, mask.attach(0));\n            gl.viewport(0, 0, destination.width, destination.height);\n            blit(destination.fbo);\n        }\n        function blur(target, temp, iterations) {\n            blurProgram.bind();\n            for (let i = 0; i < iterations; i++) {\n                gl.uniform2f(blurProgram.uniforms.texelSize, target.texelSizeX, 0);\n                gl.uniform1i(blurProgram.uniforms.uTexture, target.attach(0));\n                blit(temp.fbo);\n                gl.uniform2f(blurProgram.uniforms.texelSize, 0, target.texelSizeY);\n                gl.uniform1i(blurProgram.uniforms.uTexture, temp.attach(0));\n                blit(target.fbo);\n            }\n        }\n        function splatPointer(pointer) {\n            let dx = pointer.deltaX * config.SPLAT_FORCE;\n            let dy = pointer.deltaY * config.SPLAT_FORCE;\n            splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color);\n        }\n        function multipleSplats(amount) {\n            for (let i = 0; i < amount; i++) {\n                const color = generateColor();\n                color.r *= 10;\n                color.g *= 10;\n                color.b *= 10;\n                const x = Math.random();\n                const y = Math.random();\n                const dx = 1e3 * (Math.random() - 0.5);\n                const dy = 1e3 * (Math.random() - 0.5);\n                splat(x, y, dx, dy, color);\n            }\n        }\n        function splat(x, y, dx, dy, color) {\n            gl.viewport(0, 0, velocity.width, velocity.height);\n            splatProgram.bind();\n            gl.uniform1i(splatProgram.uniforms.uTarget, velocity.read.attach(0));\n            gl.uniform1f(splatProgram.uniforms.aspectRatio, canvas.width / canvas.height);\n            gl.uniform2f(splatProgram.uniforms.point, x, y);\n            gl.uniform3f(splatProgram.uniforms.color, dx, dy, 0);\n            gl.uniform1f(splatProgram.uniforms.radius, correctRadius(config.SPLAT_RADIUS / 100));\n            blit(velocity.write.fbo);\n            velocity.swap();\n            gl.viewport(0, 0, dye.width, dye.height);\n            gl.uniform1i(splatProgram.uniforms.uTarget, dye.read.attach(0));\n            gl.uniform3f(splatProgram.uniforms.color, color.r, color.g, color.b);\n            blit(dye.write.fbo);\n            dye.swap();\n        }\n        function correctRadius(radius) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio > 1)\n                radius *= aspectRatio;\n            return radius;\n        }\n        canvas.addEventListener(\"mousedown\", (e) => {\n\n            let posX = scaleByPixelRatio(e.offsetX);\n            let posY = scaleByPixelRatio(e.offsetY);\n            let pointer = pointers.find((p) => p.id == -1);\n            if (pointer == null)\n                pointer = new pointerPrototype();\n            updatePointerDownData(pointer, -1, posX, posY);\n        });\n        setTimeout(() => {\n            canvas.addEventListener(\"mousemove\", (e) => {\n                let posX = scaleByPixelRatio(e.offsetX);\n                let posY = scaleByPixelRatio(e.offsetY);\n                updatePointerMoveData(pointers[0], posX, posY);\n            });\n        }, 500);\n        window.addEventListener(\"mouseup\", () => {\n            updatePointerUpData(pointers[0]);\n        });\n        canvas.addEventListener(\"touchstart\", (e) => {\n            e.preventDefault();\n            const touches = e.targetTouches;\n            while (touches.length >= pointers.length)\n                pointers.push(new pointerPrototype());\n            for (let i = 0; i < touches.length; i++) {\n                let posX = scaleByPixelRatio(touches[i].pageX);\n                let posY = scaleByPixelRatio(touches[i].pageY);\n                updatePointerDownData(pointers[i + 1], touches[i].identifier, posX, posY);\n            }\n        });\n        canvas.addEventListener(\"touchmove\", (e) => {\n            e.preventDefault();\n            const touches = e.targetTouches;\n            for (let i = 0; i < touches.length; i++) {\n                let posX = scaleByPixelRatio(touches[i].pageX);\n                let posY = scaleByPixelRatio(touches[i].pageY);\n                updatePointerMoveData(pointers[i + 1], posX, posY);\n            }\n        }, false);\n        window.addEventListener(\"touchend\", (e) => {\n            updatePointerUpData(pointers[0]);\n        });\n        var listenerKeyAnimation = function (e) {\n            if (e.code === \"KeyP\")\n                config.PAUSED = !config.PAUSED;\n            if (e.key === \" \")\n                splatStack.push(parseInt(Math.random() * 20) + 5);\n        };\n        if ('yes' === config.BACKSPACE_ANIMATION) {\n            window.addEventListener(\"keydown\", listenerKeyAnimation);\n        }else{\n            window.removeEventListener(\"keydown\", listenerKeyAnimation);\n        }\n\n        let animationButton = document.querySelectorAll(\".animation_fluid, .filter_animation_fluid .isotope-filter a\");\n\n        for (let i = 0; i < animationButton.length; i++) {\n            animationButton[i].addEventListener(\"click\", function() {\n                splatStack.push(parseInt(Math.random() * 20) + 5);\n            });\n        }\n        function updatePointerDownData(pointer, id, posX, posY) {\n            pointer.id = id;\n            pointer.down = true;\n            pointer.moved = false;\n            pointer.texcoordX = posX / canvas.width;\n            pointer.texcoordY = 1 - posY / canvas.height;\n            pointer.prevTexcoordX = pointer.texcoordX;\n            pointer.prevTexcoordY = pointer.texcoordY;\n            pointer.deltaX = 0;\n            pointer.deltaY = 0;\n            pointer.color = generateColor();\n        }\n        function updatePointerMoveData(pointer, posX, posY) {\n            if (config.TRIGGER === \"click\") {\n                pointer.moved = pointer.down;\n            }\n            pointer.prevTexcoordX = pointer.texcoordX;\n            pointer.prevTexcoordY = pointer.texcoordY;\n            pointer.texcoordX = posX / canvas.width;\n            pointer.texcoordY = 1 - posY / canvas.height;\n            pointer.deltaX = correctDeltaX(pointer.texcoordX - pointer.prevTexcoordX);\n            pointer.deltaY = correctDeltaY(pointer.texcoordY - pointer.prevTexcoordY);\n            if (config.TRIGGER === \"hover\") {\n                pointer.moved = Math.abs(pointer.deltaX) > 0 || Math.abs(pointer.deltaY) > 0;\n            }\n        }\n        function updatePointerUpData(pointer) {\n            pointer.down = false;\n        }\n        function correctDeltaX(delta) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio < 1)\n                delta *= aspectRatio;\n            return delta;\n        }\n        function correctDeltaY(delta) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio > 1)\n                delta /= aspectRatio;\n            return delta;\n        }\n        function generateColor() {\n            let c = {};\n\n            if ('simple' === config.TYPE_COLOR) {\n                var color = hexToRgb(config.COLOR);\n                color = color.split(',');\n                c.r = parseInt(color[0]) / 1000;\n                c.g = parseInt(color[1]) / 1000;\n                c.b = parseInt(color[2]) / 1000;\n            } else {\n                c = HSVtoRGB(Math.random(), 1, 1);\n                c.r *= 0.15;\n                c.g *= 0.15;\n                c.b *= 0.15;\n            }\n\n            return c;\n        }\n        function HSVtoRGB(h, s, v) {\n            let r, g, b, i, f, p, q, t;\n            i = Math.floor(h * 6);\n            f = h * 6 - i;\n            p = v * (1 - s);\n            q = v * (1 - f * s);\n            t = v * (1 - (1 - f) * s);\n            switch (i % 6) {\n                case 0:\n                    r = v, g = t, b = p;\n                    break;\n                case 1:\n                    r = q, g = v, b = p;\n                    break;\n                case 2:\n                    r = p, g = v, b = t;\n                    break;\n                case 3:\n                    r = p, g = q, b = v;\n                    break;\n                case 4:\n                    r = t, g = p, b = v;\n                    break;\n                case 5:\n                    r = v, g = p, b = q;\n                    break;\n            }\n            return {\n                r,\n                g,\n                b\n            };\n        }\n\n        function hexToRgb(hex) {\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            if (result) {\n                var r = parseInt(result[1], 16);\n                var g = parseInt(result[2], 16);\n                var b = parseInt(result[3], 16);\n                return r + \",\" + g + \",\" + b;//return 23,14,45 -> reformat if needed\n            }\n            return null;\n        }\n\n        function normalizeColor(input) {\n            let output = {\n                r: input.r / 255,\n                g: input.g / 255,\n                b: input.b / 255\n            };\n            return output;\n        }\n        function wrap(value, min, max) {\n            let range = max - min;\n            if (range == 0)\n                return min;\n            return (value - min) % range + min;\n        }\n        function getResolution(resolution) {\n            let aspectRatio = gl.drawingBufferWidth / gl.drawingBufferHeight;\n            if (aspectRatio < 1)\n                aspectRatio = 1 / aspectRatio;\n            let min = Math.round(resolution);\n            let max = Math.round(resolution * aspectRatio);\n            if (gl.drawingBufferWidth > gl.drawingBufferHeight)\n                return { width: max, height: min };\n            else\n                return { width: min, height: max };\n        }\n        function getTextureScale(texture, width, height) {\n            return {\n                x: width / texture.width,\n                y: height / texture.height\n            };\n        }\n        function scaleByPixelRatio(input) {\n            let pixelRatio = window.devicePixelRatio || 1;\n            return Math.floor(input * pixelRatio);\n        }\n        function hashCode(s) {\n            if (s.length == 0)\n                return 0;\n            let hash = 0;\n            for (let i = 0; i < s.length; i++) {\n                hash = (hash << 5) - hash + s.charCodeAt(i);\n                hash |= 0;\n            }\n            return hash;\n        }\n    }\n\n    let reDrawType, reDrawColor, reDrawResolution, reDrawVelocity, reDrawDensity, reDrawPressure, reDrawSplatRadius, reBackSpaceAnimation;\n\n    function fluidAnimation(reinit = false) {\n        if (reinit) {\n            const webglFluid = document.querySelector(\"#wgl-webgl-fluid\");\n            webglFluid && webglFluid.remove();\n\n            const canvasOuter = document.querySelector('.wgl-canvas-outer');\n            canvasOuter.innerHTML += \"<canvas id='wgl-webgl-fluid'></canvas>\";\n        }\n\n\n        initCanvas(document.getElementById('wgl-webgl-fluid'), {\n            IMMEDIATE: false, // Whether to trigger multiple random splats when initialized\n            TRIGGER: 'hover',\n            SIM_RESOLUTION: reinit ? reDrawResolution : parseInt(webgl_fluid_settings.resolution),\n            DYE_RESOLUTION: 512,\n            DENSITY_DISSIPATION: reinit ? parseFloat(reDrawDensity) : parseFloat(webgl_fluid_settings.density),\n            VELOCITY_DISSIPATION: reinit ? parseFloat(reDrawVelocity) : parseFloat(webgl_fluid_settings.velocity),\n            PRESSURE: reinit ? parseFloat(reDrawPressure) : parseFloat(webgl_fluid_settings.pressure),\n            PRESSURE_ITERATIONS: 20,\n            CURL: 5,\n            SPLAT_RADIUS: reinit ? parseFloat(reDrawSplatRadius) : parseFloat(webgl_fluid_settings.splat_radius),\n            SHADING: true,\n            COLORFUL: true,\n            PAUSED: false,\n            BACK_COLOR: { r: 0, g: 0, b: 0 },\n            BLOOM: false,\n            BLOOM_ITERATIONS: 8,\n            BLOOM_RESOLUTION: 256,\n            BLOOM_INTENSITY: 0.8,\n            BLOOM_THRESHOLD: 0.6,\n            BLOOM_SOFT_KNEE: 0.7,\n            POINTER_COLOR: [{ r: 0, g: 0, b: 0 }],\n            SOUND_SENSITIVITY:0,\n            AUDIO_RESPONSIVE: false,\n            FREQ_RANGE: 8,\n            FREQ_RANGE_START: 0,\n            TRANSPARENT: true,\n            TYPE_COLOR: reinit ? reDrawType : webgl_fluid_settings.color_type,\n            COLOR: reinit ? reDrawColor : webgl_fluid_settings.color,\n            BACKSPACE_ANIMATION: reinit ? reBackSpaceAnimation : webgl_fluid_settings.backspace_animation\n        });\n    }\n\n    const contentLoadedHandler = () => {\n        fluidAnimation();\n\n        let newEvent;\n\n        window.addEventListener('mousemove', (event) => {\n            newEvent = new event.constructor(event.type, event);\n        });\n\n        document.addEventListener('mousemove', (event) => {\n            if (event.isTrusted && newEvent) {\n                document.getElementById('wgl-webgl-fluid').dispatchEvent(newEvent);\n            }\n        });\n    }\n\n    window.addEventListener('DOMContentLoaded', contentLoadedHandler);\n\n})(jQuery);\n"]}